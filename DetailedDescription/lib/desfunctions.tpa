/**
 * Converts any decimal number into a hexadecimal number
 */
DEFINE_ACTION_FUNCTION TO_HEX_NUMBER
INT_VAR
  value     = 0   // the decimal number
  minDigits = 1   // min. number of digits in return value (not counting sign)
  prefix    = 0   // whether to return number with "0x" prefix
RET
  hexNumber       // returned as string without prefix
BEGIN
  ACTION_IF (minDigits < 1) BEGIN OUTER_SET minDigits = 1 END
  ACTION_IF (minDigits > 8) BEGIN OUTER_SET minDigits = 8 END
  OUTER_TEXT_SPRINT hexNumber ~~
  ACTION_DEFINE_ARRAY digit BEGIN ~0~ ~1~ ~2~ ~3~ ~4~ ~5~ ~6~ ~7~ ~8~ ~9~ ~a~ ~b~ ~c~ ~d~ ~e~ ~f~ END

  ACTION_IF (value < 0) BEGIN
    OUTER_SET signed = 1
    OUTER_SET value = 0 - value
  END ELSE BEGIN
    OUTER_SET signed = 0
  END

  OUTER_WHILE (value != 0) BEGIN
    OUTER_SET curDigit = value BAND 0xf
    OUTER_SET value = value BLSR 4
    OUTER_TEXT_SPRINT hexDigit $EVAL digit(~%curDigit%~)
    OUTER_TEXT_SPRINT hexNumber ~%hexDigit%%hexNumber%~
  END

  OUTER_WHILE (STRING_LENGTH ~%hexNumber%~ < minDigits) BEGIN
    OUTER_TEXT_SPRINT hexNumber ~0%hexNumber%~
  END

  ACTION_IF (prefix) BEGIN
    OUTER_TEXT_SPRINT hexNumber ~0x%hexNumber%~
  END

  ACTION_IF (signed) BEGIN
    OUTER_TEXT_SPRINT hexNumber ~-%hexNumber%~
  END
END

DEFINE_PATCH_FUNCTION TO_HEX_NUMBER
INT_VAR
  value     = 0
  minDigits = 1
  prefix    = 0
RET
  hexNumber
BEGIN
  INNER_ACTION BEGIN
    LAF TO_HEX_NUMBER INT_VAR value = value minDigits = minDigits prefix = prefix RET hexNumber END
  END
END

/* **************************************** */

//输入文本在tlk中的编号，输出notgarbled为0表示存在死机乱码，为2表示不死机乱码
DEFINE_ACTION_FUNCTION CHECK_GARBLED_TEXT
STR_VAR
	descindex = 0
RET
	notgarbled
BEGIN

	//ACTION_GET_STRREF descindex desctext
	//PATCH_PRINT ~text: %desctext%~

	OUTER_SET descoffsetaddress = 0x24 + (%descindex% * 0x1a)	//计算出此条文本在tlk中记录开始位置的地址
	OUTER_SET desclengthaddress = 0x28 + (%descindex% * 0x1a)	//计算出此条文本在tlk中记录文本长度的地址
	//PATCH_PRINT ~descoffsetaddress=%descoffsetaddress%~
	//PATCH_PRINT ~desclengthaddress=%desclengthaddress%~

	COPY ~lang/zh_CN/dialog.tlk~ ~override~

		READ_LONG 0x0e textoffset	//tlk中总文本开始地址

		READ_LONG descoffsetaddress descoffset		//读取tlk索引，找到此条文本开始位置（需要加上总文本开始地址）
	//PATCH_PRINT ~descoffset=%descoffset%~
		READ_LONG desclengthaddress desclength		//读取tlk索引，找到此条文本长度（单位为单字节即FF）
	//PATCH_PRINT ~desclength=%desclength%~
		
		SET notgarbled = 1
		
		FOR (index = 0 ; index < desclength ; ++index) BEGIN
		
			SET textcodecheck = 0
			
	//PATCH_PRINT ~index=%index%~
			SET descaddress = descoffset + textoffset + index
	//LPF TO_HEX_NUMBER INT_VAR value = descaddress prefix = 1 RET hexNumber END
	//PATCH_PRINT ~descaddress=%hexNumber%~
			READ_BYTE descaddress textcode
	//LPF TO_HEX_NUMBER INT_VAR value = textcode prefix = 1 RET hexNumber END
	//PATCH_PRINT ~textcode=%hexNumber%~
			
			PATCH_IF textcode <= 0x7F BEGIN
		//PATCH_PRINT ~以UTF8编码规则检查，貌似是英文文本~
				SET textcodecheck = 1
			END
			
			SET codetest1 = textcode & 0b11100000
	//PATCH_PRINT ~codetest1=%codetest1%~
			SET codetest2 = textcode & 0b11110000
	//PATCH_PRINT ~codetest2=%codetest2%~
			SET codetest3 = textcode & 0b11111000
	//PATCH_PRINT ~codetest3=%codetest3%~
			
			PATCH_IF (codetest1 == 192) BEGIN	//高位三个bit是110，读下一个字节
		//PATCH_PRINT ~发现疑似二字节汉字开头~
				SET index = index +1
				SET descaddress = descoffset + textoffset + index
		//LPF TO_HEX_NUMBER INT_VAR value = descaddress prefix = 1 RET hexNumber END
				READ_BYTE descaddress textcode1
		//PATCH_PRINT ~发现疑似双字节汉字开头，读取下一字节textcode=%hexNumber%~
				SET codetest = textcode1 & 0b11000000
				PATCH_IF codetest == 128 BEGIN
			//PATCH_PRINT ~以UTF8编码规则检查，貌似是双字节汉字~
					SET textcodecheck = 1
				END
			END
			
			PATCH_IF (codetest2 == 224) BEGIN	//高位四个bit是1110，读下一个字节
		//PATCH_PRINT ~发现疑似三字节汉字开头~
				SET index = index +1
				SET descaddress = descoffset + textoffset + index
		//LPF TO_HEX_NUMBER INT_VAR value = descaddress prefix = 1 RET hexNumber END
				READ_BYTE descaddress textcode1
		//PATCH_PRINT ~发现疑似三字节汉字开头，读取下一字节textcode=%hexNumber%~
				SET codetest = textcode1 & 0b11000000
				PATCH_IF codetest == 128 BEGIN
					SET index = index +1
					SET descaddress = descoffset + textoffset + index
			//LPF TO_HEX_NUMBER INT_VAR value = descaddress prefix = 1 RET hexNumber END
					READ_BYTE descaddress textcode2
			//PATCH_PRINT ~读取下二字节textcode=%hexNumber%~
					SET codetest = textcode2 & 0b11000000
					PATCH_IF codetest == 128 BEGIN
				//PATCH_PRINT ~以UTF8编码规则检查，貌似是三字节汉字~
						SET textcodecheck = 1
					END
				END
			END
			
			PATCH_IF (codetest3 == 240) BEGIN	//高位四个bit是1110，读下一个字节
		//PATCH_PRINT ~发现疑似四字节汉字开头~
				SET index = index +1
				SET descaddress = descoffset + textoffset + index
		//LPF TO_HEX_NUMBER INT_VAR value = descaddress prefix = 1 RET hexNumber END
				READ_BYTE descaddress textcode1
		//PATCH_PRINT ~发现疑似四字节汉字开头，读取下一字节textcode=%hexNumber%~
				SET codetest = textcode1 & 0b11000000
				PATCH_IF codetest == 128 BEGIN
					SET index = index +1
					SET descaddress = descoffset + textoffset + index
			//LPF TO_HEX_NUMBER INT_VAR value = descaddress prefix = 1 RET hexNumber END
					READ_BYTE descaddress textcode2
			//PATCH_PRINT ~读取下二字节textcode=%hexNumber%~
					SET codetest = textcode2 & 0b11000000
					PATCH_IF codetest == 128 BEGIN			
						SET index = index +1
						SET descaddress = descoffset + textoffset + index
				//LPF TO_HEX_NUMBER INT_VAR value = descaddress prefix = 1 RET hexNumber END
						READ_BYTE descaddress textcode3
				//PATCH_PRINT ~读取下三字节textcode=%hexNumber%~
						SET codetest = textcode3 & 0b11000000
						PATCH_IF codetest == 128 BEGIN
					//PATCH_PRINT ~以UTF8编码规则检查，貌似是四字节汉字~
							SET textcodecheck = 1
							//SET indexo = index -3
							//SET $textcodecheck(~%indexo%~) = 1
						END
					END
				END
			END
			
			SET notgarbled = textcodecheck && notgarbled
			PATCH_IF notgarbled == 0 BEGIN
				SET index = desclength + 1
			END
		END

		//PATCH_IF notgarbled == 0 BEGIN PATCH_PRINT ~乱码！~ END
		
		PATCH_IF notgarbled == 1 BEGIN		//前面检查没问题，再检查是不是锟斤拷
			FOR (index = 0 ; index < desclength ; ++index) BEGIN
				SET descaddress = descoffset + textoffset + index
				READ_BYTE descaddress textcode
				PATCH_IF textcode == 239 BEGIN
					SET index = index +1
					SET descaddress = descoffset + textoffset + index
					READ_BYTE descaddress textcode1
					PATCH_IF textcode1 == 191 BEGIN
						SET index = index +1
						SET descaddress = descoffset + textoffset + index
						READ_BYTE descaddress textcode2
						PATCH_IF textcode2 == 189 BEGIN
							//PATCH_PRINT ~锟斤拷~
							SET notgarbled = 2
							SET index = desclength + 1
						END
					END
				END
			END
		END

	BUT_ONLY

END

DEFINE_PATCH_FUNCTION CHECK_GARBLED_TEXT
STR_VAR
	descindex = 0
RET
	notgarbled
BEGIN
	INNER_ACTION BEGIN
		LAF CHECK_GARBLED_TEXT INT_VAR descindex = descindex RET notgarbled END
	END
END



/* **************************************** */

//输入物品/生物/法术文件代码，文件不存在则给出空字符串

DEFINE_PATCH_FUNCTION SCRAMBLED_TEXT_NAMECHECK
STR_VAR
	itmcode = ~~
	crecode = ~~
	splcode = ~~
RET
	namestr
BEGIN
//STRING_CONTAINS_REGEXP结果是1表示不包含
	//PATCH_PRINT ~code = %itmcode% %crecode% %splcode%~
	//作为物品输入
	PATCH_IF (STRING_LENGTH ~%itmcode%~ > 0) BEGIN
		SET descdone = 0
		PATCH_IF FILE_EXISTS_IN_GAME ~%itmcode%.itm~ BEGIN
			INNER_ACTION BEGIN
				COPY_EXISTING ~%itmcode%.itm~ ~override~
					READ_LONG 0x0c nameref
					PATCH_IF (nameref >= 0 && nameref < 2147483646) BEGIN	//存在已鉴定名称
						READ_STRREF 0x0c namestr
						SET descdone = 1
						PATCH_IF (NOT ~%namestr%~ STRING_CONTAINS_REGEXP ~Invalid Strref~)||(STRING_LENGTH ~%namestr%~ == 0) BEGIN	//已鉴定名称指向空文本
							SPRINT namestr ~未知物品~
						END ELSE BEGIN	//已鉴定名称不是空文本	
							LPF CHECK_GARBLED_TEXT INT_VAR descindex = nameref RET notgarbled END
							PATCH_IF (notgarbled == 0)&&(NOT FILE_EXISTS_IN_GAME ~dd#garbl.2da~) BEGIN
								PATCH_PRINT ~物品“%SOURCE_RES%.itm”存在中文已鉴定名称乱码情况，请检查。继续安装可能在某些场景导致游戏崩溃（例如打开某些商店时）。		
输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
								PATCH_READLN howtodo
								WHILE NOT(IS_AN_INT %howtodo%) || (%howtodo% > 2) || (%howtodo% < 1) BEGIN
									PATCH_PRINT ~请输入1或2。输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
									PATCH_READLN howtodo
								END
								PATCH_IF (howtodo == 1) THEN BEGIN
									PATCH_PRINT ~原名称已弃用，后继情况会自动保持此选项。~
									SPRINT namestr ~物品已鉴定名称原本乱码~
									SET descdone = 1
									INNER_ACTION BEGIN COPY ~DetailedDescription/2da/dd#garbl.2da~ ~override~ END
								END ELSE BEGIN
									PATCH_FAIL ~物品“%SOURCE_RES%.itm”已鉴定名称乱码，请检查，安装取消~
								END
							END ELSE BEGIN	//已鉴定名称正常（非空非乱码）或默认弃用乱码名称
								SET descdone = 1
								PATCH_IF (notgarbled == 2) THEN BEGIN
									PATCH_PRINT ~物品“%SOURCE_RES%.itm”存在中文已鉴定名称乱码情况，但不会导致游戏崩溃，已自动弃用原名称。~
									SPRINT namestr ~物品已鉴定名称原本乱码~
								END
								PATCH_IF (notgarbled == 0)&&(FILE_EXISTS_IN_GAME ~dd#garbl.2da~) THEN BEGIN
									PATCH_PRINT ~物品“%SOURCE_RES%.itm”存在中文已鉴定名称乱码情况，已弃用原名称并继续安装（但不保证解决问题）。~
									SPRINT namestr ~物品已鉴定名称原本乱码~
								END 
							END							
						END
					END
					PATCH_IF descdone != 1 BEGIN	//没有已鉴定名称，找未鉴定名称
						READ_LONG 0x08 nameref
						PATCH_IF (nameref >= 0 && nameref < 2147483646) BEGIN	//存在未鉴定名称
							READ_STRREF 0x08 namestr
							SET descdone = 1
							PATCH_IF (NOT ~%namestr%~ STRING_CONTAINS_REGEXP ~Invalid Strref~)||(STRING_LENGTH ~%namestr%~ == 0) BEGIN	//未鉴定名称指向空文本
								SPRINT namestr ~未知物品~
							END ELSE BEGIN	//未鉴定名称不是空文本
								LPF CHECK_GARBLED_TEXT INT_VAR descindex = nameref RET notgarbled END
								PATCH_IF (notgarbled == 0)&&(NOT FILE_EXISTS_IN_GAME ~dd#garbl.2da~) BEGIN
									PATCH_PRINT ~物品“%SOURCE_RES%.itm”存在中文未鉴定名称乱码情况，请检查。继续安装可能在某些场景导致游戏崩溃（例如打开某些商店时）。		
输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
									PATCH_READLN howtodo
									WHILE NOT(IS_AN_INT %howtodo%) || (%howtodo% > 2) || (%howtodo% < 1) BEGIN
										PATCH_PRINT ~请输入1或2。输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
										PATCH_READLN howtodo
									END
									PATCH_IF (howtodo == 1) THEN BEGIN
										PATCH_PRINT ~原名称已弃用，后继情况会自动保持此选项。~
										SPRINT namestr ~物品未鉴定名称原本乱码~
										SET descdone = 1
										INNER_ACTION BEGIN COPY ~DetailedDescription/2da/dd#garbl.2da~ ~override~ END
									END ELSE BEGIN
										PATCH_FAIL ~物品“%SOURCE_RES%.itm”未鉴定名称乱码，请检查，安装取消~
									END
								END ELSE BEGIN	//未鉴定名称正常（非空非乱码）或默认弃用乱码名称
									SET descdone = 1
									PATCH_IF (notgarbled == 2) THEN BEGIN
										PATCH_PRINT ~物品“%SOURCE_RES%.itm”存在中文未鉴定名称乱码情况，但不会导致游戏崩溃，已自动弃用原名称。~
										SPRINT namestr ~物品未鉴定名称原本乱码~
									END 
									PATCH_IF (notgarbled == 0)&&(FILE_EXISTS_IN_GAME ~dd#garbl.2da~) THEN BEGIN
										PATCH_PRINT ~物品“%SOURCE_RES%.itm”存在中文未鉴定名称乱码情况，已弃用原名称并继续安装（但不保证解决问题）。~
										SPRINT namestr ~物品未鉴定名称原本乱码~
									END 
								END
							END
						END
					END
				BUT_ONLY
			END
			PATCH_IF descdone != 1 BEGIN	//以上描述都没有，但物品确实存在
				SPRINT namestr ~未知物品~
				SET descdone = 1
			END
		END ELSE BEGIN	//代码存在但物品不存在
			SPRINT namestr ~~
		END
	END
	//作为生物输入
	PATCH_IF (STRING_LENGTH ~%crecode%~ > 0) BEGIN
		SET descdone = 0
		PATCH_IF FILE_EXISTS_IN_GAME ~%crecode%.cre~ BEGIN
			INNER_ACTION BEGIN
				COPY_EXISTING ~%crecode%.cre~ ~override~
					READ_LONG 0x0c nameref
					PATCH_IF (nameref >= 0 && nameref < 2147483646) BEGIN	//存在短名称
						READ_STRREF 0x0c namestr
						SET descdone = 1
						PATCH_IF (NOT ~%namestr%~ STRING_CONTAINS_REGEXP ~Invalid Strref~)||(STRING_LENGTH ~%namestr%~ == 0) BEGIN	//短名称指向空文本
							SPRINT namestr ~未知生物~
						END ELSE BEGIN	//已鉴定描述不是空文本
							LPF CHECK_GARBLED_TEXT INT_VAR descindex = nameref RET notgarbled END
							PATCH_IF (notgarbled == 0)&&(NOT FILE_EXISTS_IN_GAME ~dd#garbl.2da~) BEGIN
								PATCH_PRINT ~生物“%SOURCE_RES%.cre”存在中文短名称乱码情况，请检查。继续安装可能在某些场景导致游戏崩溃（例如打开某些商店时）。		
输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
								PATCH_READLN howtodo
								WHILE NOT(IS_AN_INT %howtodo%) || (%howtodo% > 2) || (%howtodo% < 1) BEGIN
									PATCH_PRINT ~请输入1或2。输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
									PATCH_READLN howtodo
								END
								PATCH_IF (howtodo == 1) THEN BEGIN
									PATCH_PRINT ~原名称已弃用，后继情况会自动保持此选项。~
									SPRINT namestr ~生物短名称原本乱码~
									SET descdone = 1
									INNER_ACTION BEGIN COPY ~DetailedDescription/2da/dd#garbl.2da~ ~override~ END
								END ELSE BEGIN
									PATCH_FAIL ~生物“%SOURCE_RES%.cre”短名称乱码，请检查，安装取消~
								END
							END ELSE BEGIN	//短名称正常（非空非乱码）或默认弃用乱码名称
								SET descdone = 1
								PATCH_IF (notgarbled == 2) THEN BEGIN
									PATCH_PRINT ~生物“%SOURCE_RES%.cre”存在中文短名称乱码情况，但不会导致游戏崩溃，已自动弃用原名称。~
									SPRINT namestr ~生物短名称原本乱码~
								END 
								PATCH_IF (notgarbled == 0)&&(FILE_EXISTS_IN_GAME ~dd#garbl.2da~) THEN BEGIN
									PATCH_PRINT ~生物“%SOURCE_RES%.cre”存在中文短名称乱码情况，已弃用原名称并继续安装（但不保证解决问题）。~
									SPRINT namestr ~生物短名称原本乱码~
								END 
							END
						END
					END
					PATCH_IF descdone != 1 BEGIN	//没有短名称，找长名称
						READ_LONG 0x08 nameref
						PATCH_IF (nameref >= 0 && nameref < 2147483646) BEGIN	//存在长名称
							READ_STRREF 0x08 namestr
							SET descdone = 1
							PATCH_IF (NOT ~%namestr%~ STRING_CONTAINS_REGEXP ~Invalid Strref~)||(STRING_LENGTH ~%namestr%~ == 0) BEGIN	//长名称指向空文本
								SPRINT namestr ~未知生物~
							END ELSE BEGIN	//已鉴定描述不是空文本
								LPF CHECK_GARBLED_TEXT INT_VAR descindex = nameref RET notgarbled END
								PATCH_IF (notgarbled == 0)&&(NOT FILE_EXISTS_IN_GAME ~dd#garbl.2da~) BEGIN
									PATCH_PRINT ~生物“%SOURCE_RES%.cre”存在中文长名称乱码情况，请检查。继续安装可能在某些场景导致游戏崩溃（例如打开某些商店时）。		
输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
									PATCH_READLN howtodo
									WHILE NOT(IS_AN_INT %howtodo%) || (%howtodo% > 2) || (%howtodo% < 1) BEGIN
										PATCH_PRINT ~请输入1或2。输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
										PATCH_READLN howtodo
									END
									PATCH_IF (howtodo == 1) THEN BEGIN
										PATCH_PRINT ~原名称已弃用，后继情况会自动保持此选项。~
										SPRINT namestr ~生物长名称原本乱码~
										SET descdone = 1
										INNER_ACTION BEGIN COPY ~DetailedDescription/2da/dd#garbl.2da~ ~override~ END
									END ELSE BEGIN
										PATCH_FAIL ~生物“%SOURCE_RES%.cre”长名称乱码，请检查，安装取消~
									END
								END ELSE BEGIN	//长名称正常（非空非乱码）或默认弃用乱码名称
									SET descdone = 1
									PATCH_IF (notgarbled == 2) THEN BEGIN
										PATCH_PRINT ~生物“%SOURCE_RES%.cre”存在中文长名称乱码情况，但不会导致游戏崩溃，已自动弃用原名称。~
										SPRINT namestr ~生物长名称原本乱码~
									END 
									PATCH_IF (notgarbled == 0)&&(FILE_EXISTS_IN_GAME ~dd#garbl.2da~) THEN BEGIN
										PATCH_PRINT ~生物“%SOURCE_RES%.cre”存在中文长名称乱码情况，已弃用原名称并继续安装（但不保证解决问题）。~
										SPRINT namestr ~生物长名称原本乱码~
									END 
								END
							END
						END
					END
				BUT_ONLY
			END
			PATCH_IF descdone != 1 BEGIN	//以上描述都没有，但生物确实存在
				SPRINT namestr ~未知生物~
				SET descdone = 1
			END
		END ELSE BEGIN	//代码存在但生物不存在
			SPRINT namestr ~~
		END
	END
	//作为法术输入
	PATCH_IF (STRING_LENGTH ~%splcode%~ > 0) BEGIN
		SET descdone = 0
		PATCH_IF FILE_EXISTS_IN_GAME ~%splcode%.spl~ BEGIN
			INNER_ACTION BEGIN
				COPY_EXISTING ~%splcode%.spl~ ~override~
					READ_LONG 0x08 nameref
					PATCH_IF (nameref >= 0 && nameref < 2147483646) BEGIN	//存在法术名称
						READ_STRREF 0x08 namestr
						SET descdone = 1
						PATCH_IF (NOT ~%namestr%~ STRING_CONTAINS_REGEXP ~Invalid Strref~)||(STRING_LENGTH ~%namestr%~ == 0) BEGIN	//法术名称指向空文本
							SPRINT namestr ~未知法术~
						END ELSE BEGIN	//已鉴定描述不是空文本
					//PATCH_PRINT ~%nameref%:%namestr%~
							LPF CHECK_GARBLED_TEXT INT_VAR descindex = nameref RET notgarbled END
							PATCH_IF (notgarbled == 0)&&(NOT FILE_EXISTS_IN_GAME ~dd#garbl.2da~) BEGIN
								PATCH_PRINT ~法术“%SOURCE_RES%.spl”存在中文名称乱码情况，请检查。继续安装可能在某些场景导致游戏崩溃（例如打开某些商店时）。		
输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
								PATCH_READLN howtodo
								WHILE NOT(IS_AN_INT %howtodo%) || (%howtodo% > 2) || (%howtodo% < 1) BEGIN
									PATCH_PRINT ~请输入1或2。输入1弃用原名称并继续安装（但不保证解决问题），输入2取消安装。~
									PATCH_READLN howtodo
								END
								PATCH_IF (howtodo == 1) THEN BEGIN
									PATCH_PRINT ~原名称已弃用，后继情况会自动保持此选项。~
									SPRINT namestr ~法术名称原本乱码~
									SET descdone = 1
									INNER_ACTION BEGIN COPY ~DetailedDescription/2da/dd#garbl.2da~ ~override~ END
								END ELSE BEGIN
									PATCH_FAIL ~法术“%SOURCE_RES%.spl”名称乱码，请检查，安装取消~
								END
							END ELSE BEGIN	//法术名称正常（非空非乱码）或默认弃用乱码名称
								SET descdone = 1
								PATCH_IF (notgarbled == 2) THEN BEGIN
									PATCH_PRINT ~法术“%SOURCE_RES%.spl”存在中文名称乱码情况，但不会导致游戏崩溃，已自动弃用原名称。~
									SPRINT namestr ~法术名称原本乱码~
								END 
								PATCH_IF (notgarbled == 0)&&(FILE_EXISTS_IN_GAME ~dd#garbl.2da~) THEN BEGIN
									PATCH_PRINT ~法术“%SOURCE_RES%.spl”存在中文名称乱码情况，已弃用原名称并继续安装（但不保证解决问题）。~
									SPRINT namestr ~法术名称原本乱码~
								END 
							END
						END
					END
				BUT_ONLY
			END
			PATCH_IF descdone != 1 BEGIN	//以上描述都没有，但法术确实存在
				SPRINT namestr ~未知法术~
				SET descdone = 1
			END
		END ELSE BEGIN	//代码存在但法术不存在
			SPRINT namestr ~~
		END
	END
	
	//所有代码为空
	PATCH_IF (STRING_LENGTH ~%itmcode%~ == 0)&&(STRING_LENGTH ~%crecode%~ == 0)&&(STRING_LENGTH ~%splcode%~ == 0) BEGIN
		SPRINT namestr ~~
	END

//PATCH_PRINT ~namestr = %namestr%~
END



/* **************************************** */

//为法术/物品采用#177/248等调用的EFF文件加上目标时间豁免等描述

DEFINE_PATCH_FUNCTION APPEND_ATTACH_DESC
INT_VAR
	vopcode = 0
STR_VAR
	adesc = ~~
RET
	effectdesc
BEGIN
	SPRINT effectdesc ~%adesc%~
	READ_LONG 0x10 opcode
	
	PATCH_IF (vopcode != 177)&&(vopcode != 183)&&(vopcode != 248)&&(vopcode != 249)&&(vopcode != 272)&&(vopcode != 283) BEGIN
		READ_BYTE 0x14 readtarget
		PATCH_IF (readtarget == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：无~ END
		PATCH_IF (readtarget == 1) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：自身~ END
		PATCH_IF (readtarget == 2) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：指定对象~ END
		PATCH_IF (readtarget == 3) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：队伍成员~ END
		PATCH_IF (readtarget == 4) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：全图~ END
		PATCH_IF (readtarget == 5) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：除队伍外全图~ END
		PATCH_IF (readtarget == 6) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：施展者阵营~ END
		PATCH_IF (readtarget == 7) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：指定对象阵营~ END
		PATCH_IF (readtarget == 8) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：除自身外全图~ END
		PATCH_IF (readtarget == 9) BEGIN SPRINT effectdesc ~%effectdesc%~^~，目标：源施展者~ END
	END
	
	PATCH_IF (vopcode != 177)&&(vopcode != 183)&&(vopcode != 283) BEGIN
		READ_BYTE 0x24 readtimemode
		READ_LONG 0x28 readduration
		SET opcodemarch = 0	//瞬间生效类opcode，不需要显示持续时间
		PATCH_FOR_EACH instantopcode IN 2 4 11 12 13 14 17 23 26 32 43 46 47 48 55 58 64 68 70 72 75 77 79 81 82 104 105 112 116 123 124 125 134 136 146 147 148 150 151 160 161 162 163 164 168 171 172 188 209 211 212 214 220 221 224 229 230 238 242 243 244 252 256 257 258 260 261 264 266 270 273 274 279 304 311 316 321 326 334 337 343 BEGIN
			PATCH_IF opcode == instantopcode BEGIN SET opcodemarch = 1 END
		END		
		PATCH_IF (opcodemarch == 0) BEGIN
			PATCH_IF (readtimemode == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，持续：%readduration%秒~ END
			PATCH_IF (readtimemode == 1) BEGIN SPRINT effectdesc ~%effectdesc%~^~，一直持续~ END
			PATCH_IF (readtimemode == 3) BEGIN SPRINT effectdesc ~%effectdesc%~^~，延迟%readduration%秒并持续%readduration%秒~ END
			PATCH_IF (readtimemode == 4) BEGIN SPRINT effectdesc ~%effectdesc%~^~，延迟：%readduration%秒~ END
			PATCH_IF (readtimemode == 6) BEGIN SPRINT effectdesc ~%effectdesc%~^~，延迟%readduration%帧并持续%readduration%帧~ END
			PATCH_IF (readtimemode == 7) BEGIN SPRINT effectdesc ~%effectdesc%~^~，延迟：%readduration%帧~ END
			PATCH_IF (readtimemode == 9) BEGIN SPRINT effectdesc ~%effectdesc%~^~，永久~ END
			PATCH_IF (readtimemode == 10) BEGIN SPRINT effectdesc ~%effectdesc%~^~，持续：%readduration%帧~ END
		END ELSE BEGIN
			PATCH_IF (readtimemode == 3)||(readtimemode == 4)||(readtimemode == 6) BEGIN SPRINT effectdesc ~%effectdesc%~^~，延迟：%readduration%秒~ END
			PATCH_IF (readtimemode == 7) BEGIN SPRINT effectdesc ~%effectdesc%~^~，延迟：%readduration%帧~ END
		END
	END

	READ_BYTE 0x40 readdisres
	PATCH_IF ( opcode != 146 )&&( opcode != 148 ) BEGIN	//瞬间施法，不显示魔抗驱散
		PATCH_IF (readdisres == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，无视魔抗和驱散~ END
		PATCH_IF (readdisres == 1) BEGIN SPRINT effectdesc ~%effectdesc%~^~，受魔抗和驱散影响~ END
		PATCH_IF (readdisres == 2) BEGIN SPRINT effectdesc ~%effectdesc%~^~，无视魔抗和驱散~ END
		PATCH_IF (readdisres == 3) BEGIN SPRINT effectdesc ~%effectdesc%~^~，无视魔抗但可驱散~ END
	END
	READ_BYTE 0x2c readprob1
	READ_BYTE 0x2e readprob2
	SET realprob = readprob1 - readprob2 + 1
	PATCH_IF (realprob < 100) BEGIN SPRINT effectdesc ~%effectdesc%~^~，生效概率%realprob%％~ END
	
	PATCH_IF vopcode != 183 BEGIN
		READ_BYTE 0x40 readsavetype
		READ_LONG 0x44 readsavebonus
		PATCH_IF ( opcode != 146 )&&( opcode != 148 ) BEGIN	//瞬间施法，不显示豁免
			PATCH_IF (readsavetype == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，无视豁免~ END ELSE BEGIN
				PATCH_IF (readsavebonus > 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，以＋%readsavebonus%有利~ END
				PATCH_IF (readsavebonus == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，~ END
				PATCH_IF (readsavebonus < 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，以%readsavebonus%不利~ END
				PATCH_IF (readsavetype == 1) BEGIN SPRINT effectdesc ~%effectdesc%~^~对法术进行豁免检定~ END
				PATCH_IF (readsavetype == 2) BEGIN SPRINT effectdesc ~%effectdesc%~^~对喷吐进行豁免检定~ END
				PATCH_IF (readsavetype == 4) BEGIN SPRINT effectdesc ~%effectdesc%~^~对死亡进行豁免检定~ END
				PATCH_IF (readsavetype == 8) BEGIN SPRINT effectdesc ~%effectdesc%~^~对法杖进行豁免检定~ END
				PATCH_IF (readsavetype == 16) BEGIN SPRINT effectdesc ~%effectdesc%~^~对变形进行豁免检定~ END
			END
		END
	END
	READ_BYTE 0x41 readsaveflag1
	PATCH_IF (readsaveflag1 & 0b00000100) = 0b00000100 BEGIN SPRINT effectdesc ~%effectdesc%~^~，忽略第一目标~ END
	PATCH_IF (readsaveflag1 & 0b00001000) = 0b00001000 BEGIN SPRINT effectdesc ~%effectdesc%~^~，忽略第二目标~ END	
	READ_BYTE 0x43 readsaveflag2
	PATCH_IF (readsaveflag2 & 0b00000001) = 0b00000001 BEGIN SPRINT effectdesc ~%effectdesc%~^~，无视镜影~ END
	PATCH_IF (readsaveflag2 & 0b00000010) = 0b00000010 BEGIN SPRINT effectdesc ~%effectdesc%~^~，无视难度~ END
	READ_LONG 0xa0 readprojectile	//比物品上的少1？
	PATCH_IF readprojectile > 0 BEGIN
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MISSILE~ readprojectile
		SPRINT effectdesc ~%effectdesc%~^~，投射动画：%idsentry%~
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~PROJECTL~ (readprojectile - 1)
		SPRINT effectdesc ~%effectdesc%~^~（%idsentry%）~
	END
	/*
	READ_LONG 0xc8 readcasterlevel
	PATCH_IF readcasterlevel > 0 BEGIN
		SPRINT effectdesc ~%effectdesc%~^~，施法等级：%readcasterlevel%~
	END
	*/
	SPRINT effectdesc ~%effectdesc%}~
END








/* **************************************** */

//检查法术/物品采用#177/248等调用的EFF文件，描述其具体效果

DEFINE_PATCH_FUNCTION CHECK_ATTACH_EFFECT
INT_VAR
	viaopcode = 0	//调用此eff文件的opcode
STR_VAR
	effectname = ~~
RET
	effectdesc	//给出{}包含的此eff文件具体描述
BEGIN
	SPRINT effectdesc ~{图像文字等}~

	PATCH_IF FILE_EXISTS_IN_GAME ~%effectname%.eff~ BEGIN
		INNER_ACTION BEGIN
			COPY_EXISTING ~%effectname%.eff~ ~override~	
				READ_LONG 0x10 opcode
				
				PATCH_IF opcode == 0 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 16) BEGIN SPRINT effectdesc ~{防御等级设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{挥砍防御修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{穿刺防御修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{远程防御修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{钝击防御修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{防御等级修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 1 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF readamount > 5 BEGIN
						SET readamount = (readamount * 2 - 11)
						PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{每轮攻击次数修正：%readamount%／2~ SET descfixed = 1 END
						PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{每轮攻击次数设为：%readamount%／2~ SET descfixed = 1 END
						PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{每轮攻击次数最终设为：%readamount%／2~ SET descfixed = 1 END
					END ELSE BEGIN
						PATCH_IF readamount < "-5" BEGIN
							SET readamount = (readamount * 2 + 11)
							PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{每轮攻击次数修正：-%readamount%／2~ SET descfixed = 1 END
						END ELSE BEGIN
							PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{每轮攻击次数修正：%readamount%~ SET descfixed = 1 END
							PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{每轮攻击次数设为：%readamount%~ SET descfixed = 1 END
							PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{每轮攻击次数设为当前的%readamount%％~ SET descfixed = 1 END
							PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{每轮攻击次数最终设为：%readamount%~ SET descfixed = 1 END
						END
					END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 2 BEGIN
					SPRINT effectdesc ~{解除昏迷~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 3 BEGIN
					READ_LONG 0x20 readtype
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{I型狂暴~ END
					ELSE BEGIN SPRINT effectdesc ~{战斗中狂暴~ END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 4 BEGIN
					SPRINT effectdesc ~{解除I型狂暴~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 5 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readamount == 0) BEGIN SPRINT effectdesc ~{魅惑生物类型：全部~ SET descfixed = 1 END
					PATCH_IF (readamount == 1) BEGIN SPRINT effectdesc ~{魅惑生物类型：人类~ SET descfixed = 1 END
					PATCH_IF (readamount == 2) BEGIN SPRINT effectdesc ~{魅惑生物类型：动物~ SET descfixed = 1 END
					PATCH_IF (readamount == 4) BEGIN SPRINT effectdesc ~{魅惑生物类型：不死生物~ SET descfixed = 1 END
					PATCH_IF (readamount == 5) BEGIN SPRINT effectdesc ~{魅惑生物类型：巨人~ SET descfixed = 1 END
					PATCH_IF (readamount == 7) BEGIN SPRINT effectdesc ~{魅惑生物类型：植物~ SET descfixed = 1 END
					PATCH_IF (readamount == 255) BEGIN SPRINT effectdesc ~{魅惑生物类型：怪物~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 6 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{魅力修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{魅力设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{魅力设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 10 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{体质修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{体质设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{体质设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 11 BEGIN
					SPRINT effectdesc ~{解除中毒~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 12 BEGIN
					READ_LONG 0x1c readamount
					READ_SHORT 0x20 readtype1
					READ_SHORT 0x22 readtype2
					READ_LONG 0x38 readdiceamonut
					READ_LONG 0x3c readdicesize
					READ_BYTE 0x48 readspecial1
					READ_BYTE 0x49 readspecial2
					SET descfixed = 0
					PATCH_IF (readtype2 == 0) BEGIN SPRINT effectdesc ~{钝击伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 1) BEGIN SPRINT effectdesc ~{强酸伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 2) BEGIN SPRINT effectdesc ~{寒冷伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 4) BEGIN SPRINT effectdesc ~{电击伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 8) BEGIN SPRINT effectdesc ~{火焰伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 16) BEGIN SPRINT effectdesc ~{穿刺伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 32) BEGIN SPRINT effectdesc ~{毒素伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 64) BEGIN SPRINT effectdesc ~{魔法伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 128) BEGIN SPRINT effectdesc ~{远程伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 256) BEGIN SPRINT effectdesc ~{挥砍伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 512) BEGIN SPRINT effectdesc ~{魔法火焰伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 1024) BEGIN SPRINT effectdesc ~{魔法寒冷伤害~ SET descfixed = 1 END
					PATCH_IF (readtype2 == 2048) BEGIN SPRINT effectdesc ~{瘀伤~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF (readtype1 == 0) BEGIN SPRINT effectdesc ~：~ SET descfixed = 2 END
						PATCH_IF (readtype1 == 1) BEGIN SPRINT effectdesc ~（HP设为）：~ SET descfixed = 2 END
						PATCH_IF (readtype1 == 2) BEGIN SPRINT effectdesc ~（HP设为百分比）：~ SET descfixed = 2 END
						PATCH_IF (readtype1 == 3) BEGIN SPRINT effectdesc ~（HP失去百分比）：~ SET descfixed = 2 END						
					END
					PATCH_IF (descfixed == 2) BEGIN
						PATCH_IF (readdiceamonut != 0) && (readdicesize != 0) BEGIN
							SPRINT effectdesc ~%effectdesc%~^~%readdiceamonut%D%readdicesize%~
							PATCH_IF readamount > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~＋%readamount%~ END
							PATCH_IF readamount < 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~%readamount%~ END
						END
						PATCH_IF (readdiceamonut == 0)||(readdicesize == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~%readamount%~ END
						PATCH_IF (readspecial1 & 0b00000001) = 0b00000001 BEGIN SPRINT effectdesc ~%effectdesc%~^~，吸血~ END
						PATCH_IF (readspecial1 & 0b00000010) = 0b00000010 BEGIN SPRINT effectdesc ~%effectdesc%~^~，反向吸血~ END
						PATCH_IF (readspecial1 & 0b00000100) = 0b00000100 BEGIN SPRINT effectdesc ~%effectdesc%~^~，仅瘀伤~ END
						PATCH_IF (readspecial1 & 0b00001000) = 0b00001000 BEGIN SPRINT effectdesc ~%effectdesc%~^~，吸血（不累加）~ END
						PATCH_IF (readspecial1 & 0b00010000) = 0b00010000 BEGIN SPRINT effectdesc ~%effectdesc%~^~，反向吸血（不累加）~ END
						PATCH_IF (readspecial2 & 0b00000001) = 0b00000001 BEGIN SPRINT effectdesc ~%effectdesc%~^~，通过豁免伤害减半~ END
						PATCH_IF (readspecial1 & 0b00000010) = 0b00000010 BEGIN SPRINT effectdesc ~%effectdesc%~^~，未过豁免伤害减半~ END
						PATCH_IF (readspecial1 & 0b00000100) = 0b00000100 BEGIN SPRINT effectdesc ~%effectdesc%~^~，不会打醒睡眠生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 13 BEGIN
					SPRINT effectdesc ~{即死~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 14 BEGIN
					SPRINT effectdesc ~{解除冰冻~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 15 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{敏捷修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{敏捷设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{敏捷设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{猫之优雅~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF (opcode == 16)||(opcode == 317) BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{加速~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{高等加速~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{加速但不加攻击次数~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF (opcode == 317) BEGIN SPRINT effectdesc ~%effectdesc%~^~，武僧可用~ END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 17 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x38 readdiceamonut
					READ_LONG 0x3c readdicesize
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{当前HP修正：~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{当前HP设为：~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{当前HP设为当前的百分比：~ SET descfixed = 1 END		
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF (readdiceamonut != 0) && (readdicesize != 0) BEGIN
							SPRINT effectdesc ~%effectdesc%~^~%readdiceamonut%D%readdicesize%~
							PATCH_IF readamount > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~＋%readamount%~ END
							PATCH_IF readamount < 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~%readamount%~ END
						END
						PATCH_IF (readdiceamonut == 0)||(readdicesize == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~%readamount%~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 18 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{最大HP修正（当前HP随之变化）：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{最大HP设为（当前HP随之变化）：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{最大HP设为（当前HP随之变化）：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{最大HP修正（当前HP不变）：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{最大HP设为（当前HP不变）：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{最大HP设为（当前HP不变）：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{最大HP修正（当前HP随之变化）：%readamount%（不累加）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 19 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{智力修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{智力设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{智力设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 20 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{隐形~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{高等隐形~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{半隐形~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 21 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{学识修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{学识设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{学识设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 22 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{幸运（可累加）修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{幸运（可累加）设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{幸运（可累加）设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 23 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					SET descfixed = 0
					PATCH_IF (readspecial == 0) BEGIN SPRINT effectdesc ~{非狂暴状态下，士气设为10~ SET descfixed = 1 END
					PATCH_IF (readspecial == 1) BEGIN 
						PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{士气修正：%readamount%~ SET descfixed = 1 END
						PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{士气设为：%readamount%~ SET descfixed = 1 END
						PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{士气设为现有的%readamount%％~ SET descfixed = 1 END
					END
					PATCH_IF (descfixed == 1) BEGIN
						//SPRINT effectdesc ~%effectdesc%~^~（生物具有“初始士气”“士气崩溃阈值”和“士气恢复间隔”三个数据。队友死亡-2士气[限玩家]，HP每次低于50%和25%时-2士气，每经过“士气恢复间隔”帧恢复1点士气）。当士气低于“士气崩溃阈值”时陷入恐惧或狂暴）~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 24 BEGIN
					READ_LONG 0x20 readtype
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{恐惧~ END
					ELSE BEGIN SPRINT effectdesc ~{恐惧（无视免疫）~ END		
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 25 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x60 readpara3
					READ_LONG 0x64 readpara4
					SET descfixed = 0
					SET readpara4 = (readpara4 == 0)? 1 : readpara4
					PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT effectdesc ~{中毒（每秒1点毒素伤害）~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN
						PATCH_IF (readpara4 != 0) BEGIN
							SPRINT effectdesc ~{中毒（每秒1点毒素伤害）~ SET descfixed = 1
						END ELSE BEGIN
							PATCH_IF (readamount < 100) BEGIN
								SPRINT effectdesc ~{中毒（每秒1点毒素伤害）~ SET descfixed = 1
							END
							PATCH_IF (readamount > 99)&&(readamount < 256) BEGIN
								SPRINT effectdesc ~{中毒（生物HP>100／%readamount%时每秒1点毒素伤害）~ SET descfixed = 1
							END
						END
					END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{中毒（每%readpara4%秒%readamount%点毒素伤害）~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{中毒（每%readpara4%﹡%readamount%秒1点毒素伤害）~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{中毒（每%readpara4%﹡%readamount%秒%readpara3%点毒素伤害）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 26 BEGIN
					SPRINT effectdesc ~{解除诅咒~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 27 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{强酸抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{强酸抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{强酸抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 28 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{寒冷抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{寒冷抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{寒冷抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 29 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{电击抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{电击抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{电击抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 30 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{火焰抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{火焰抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{火焰抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 31 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{魔法伤害抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{魔法伤害抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{魔法伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 32 BEGIN
					SPRINT effectdesc ~{死者复生~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 33 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{对死亡的豁免修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{对死亡的豁免设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{对死亡的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 34 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{对法杖的豁免修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{对法杖的豁免设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{对法杖的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 35 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{对变形的豁免修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{对变形的豁免设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{对变形的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 36 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{对喷吐的豁免修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{对喷吐的豁免设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{对喷吐的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 37 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{对法术的豁免修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{对法术的豁免设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{对法术的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 38 BEGIN
					SPRINT effectdesc ~{沉默~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				PATCH_IF opcode == 39 BEGIN
					SPRINT effectdesc ~{昏迷~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				PATCH_IF opcode == 40 BEGIN
					SPRINT effectdesc ~{迟缓~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 42 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readamount == 1) && (readtype == 0) BEGIN SPRINT effectdesc ~{法师1级法术记忆数量翻倍~ SET descfixed = 1 END
					PATCH_IF (readamount != 1) && (readtype == 0) BEGIN SPRINT effectdesc ~{法师%readamount%级及以下法术记忆数量翻倍~ SET descfixed = 1 END
					PATCH_IF (readamount > 60000) BEGIN SET readamount = (65536 - readamount) END
					PATCH_IF (readtype & 0b0000000000000001) = 0b0000000000000001 BEGIN SPRINT effectdesc ~{法师1级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000000010) = 0b0000000000000010 BEGIN SPRINT effectdesc ~{法师2级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000000100) = 0b0000000000000100 BEGIN SPRINT effectdesc ~{法师3级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000001000) = 0b0000000000001000 BEGIN SPRINT effectdesc ~{法师4级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000010000) = 0b0000000000010000 BEGIN SPRINT effectdesc ~{法师5级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000100000) = 0b0000000000100000 BEGIN SPRINT effectdesc ~{法师6级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000001000000) = 0b0000000001000000 BEGIN SPRINT effectdesc ~{法师7级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000010000000) = 0b0000000010000000 BEGIN SPRINT effectdesc ~{法师8级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000100000000) = 0b0000000100000000 BEGIN SPRINT effectdesc ~{法师9级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 43 BEGIN
					SPRINT effectdesc ~{解除石化~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 44 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{力量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{力量设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{力量设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{公牛之力~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 45 BEGIN
					SPRINT effectdesc ~{震慑~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 46 BEGIN
					SPRINT effectdesc ~{解除震慑~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 47 BEGIN
					SPRINT effectdesc ~{解除隐形~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 48 BEGIN
					SPRINT effectdesc ~{解除沉默（发声术）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 49 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{感知修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{感知设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{感知设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 53 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ANIMATE~ readamount
					SET descfixed = 0
					PATCH_IF (readtype == 0)||(readtype == 2) BEGIN SPRINT effectdesc ~{改变动画为：%idsentry%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{改变动画为：源生物的原本动画~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 54 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{THAC0修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{THAC0设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 55 BEGIN
					SPRINT effectdesc ~{杀死生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 56 BEGIN
					SPRINT effectdesc ~{阵营反转~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 57 BEGIN
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{阵营变化：~
					PATCH_MATCH readtype
					WITH
						0 BEGIN SPRINT effectdesc ~%effectdesc%~^~无~ END
						17 BEGIN SPRINT effectdesc ~%effectdesc%~^~守序善良~ END
						18 BEGIN SPRINT effectdesc ~%effectdesc%~^~守序中立~ END
						19 BEGIN SPRINT effectdesc ~%effectdesc%~^~守序邪恶~ END
						33 BEGIN SPRINT effectdesc ~%effectdesc%~^~中立善良~ END
						34 BEGIN SPRINT effectdesc ~%effectdesc%~^~绝对中立~ END
						35 BEGIN SPRINT effectdesc ~%effectdesc%~^~中立邪恶~ END
						49 BEGIN SPRINT effectdesc ~%effectdesc%~^~叛逆善良~ END
						50 BEGIN SPRINT effectdesc ~%effectdesc%~^~叛逆中立~ END
						51 BEGIN SPRINT effectdesc ~%effectdesc%~^~叛逆邪恶~ END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~错误阵营代码~
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 58 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{解除魔法（必然成功）~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{解除魔法（以人物等级施展）~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{解除魔法（以等级%readamount%施展）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 59 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{潜行数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{潜行数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{潜行数值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 60 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0)||(readtype == 3) BEGIN SPRINT effectdesc ~{奥术失败率修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1)||(readtype == 4) BEGIN SPRINT effectdesc ~{神术失败率修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2)||(readtype == 5) BEGIN SPRINT effectdesc ~{特殊能力失败率修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 62 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readamount == 1) && (readtype == 0) BEGIN SPRINT effectdesc ~{牧师1级法术记忆数量翻倍~ SET descfixed = 1 END
					PATCH_IF (readamount != 1) && (readtype == 0) BEGIN SPRINT effectdesc ~{牧师%readamount%级及以下法术记忆数量翻倍~ SET descfixed = 1 END
					PATCH_IF (readamount > 60000) BEGIN SET readamount = (65536 - readamount) END
					PATCH_IF (readtype & 0b0000000000000001) = 0b0000000000000001 BEGIN SPRINT effectdesc ~{牧师1级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000000010) = 0b0000000000000010 BEGIN SPRINT effectdesc ~{牧师2级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000000100) = 0b0000000000000100 BEGIN SPRINT effectdesc ~{牧师3级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000001000) = 0b0000000000001000 BEGIN SPRINT effectdesc ~{牧师4级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000010000) = 0b0000000000010000 BEGIN SPRINT effectdesc ~{牧师5级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000000100000) = 0b0000000000100000 BEGIN SPRINT effectdesc ~{牧师6级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype & 0b0000000001000000) = 0b0000000001000000 BEGIN SPRINT effectdesc ~{牧师7级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 63 BEGIN
					SPRINT effectdesc ~{夜视~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 64 BEGIN
					SPRINT effectdesc ~{解除夜视~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 65 BEGIN
					SPRINT effectdesc ~{朦胧~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 67 BEGIN
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR crecode = EVAL ~%readres%~ RET namestr END
					SPRINT effectdesc ~{召唤生物：%namestr%~
					PATCH_MATCH readtype
					WITH
						0 1 3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（与目标敌友类型一致，无目标则敌对）~ END
						2 4 6 8 255 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型由生物本身决定）~ END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（与目标敌对）~ END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（未知的敌友类型）~
					END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 68 BEGIN
					SPRINT effectdesc ~{反召唤生物~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 70 BEGIN
					SPRINT effectdesc ~{解除无法侦测~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 71 BEGIN
					SPRINT effectdesc ~{变性~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 72 BEGIN
					SPRINT effectdesc ~{设置生物类型为：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						0 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						1 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 73 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{攻击伤害修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{攻击伤害设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{攻击伤害设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 74 BEGIN
					SPRINT effectdesc ~{目盲~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 75 BEGIN
					SPRINT effectdesc ~{解除目盲~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 76 BEGIN
					SPRINT effectdesc ~{弱智~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 77 BEGIN
					SPRINT effectdesc ~{解除弱智~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 78 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x64 readpara4
					SET readpara4 = (readpara4 == 0)? 1 : readpara4
					SET descfixed = 0
					PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT effectdesc ~{疾病（每秒1点毒素伤害）~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN
						PATCH_IF (readpara4 != 0) BEGIN
							SPRINT effectdesc ~{疾病（每秒1点毒素伤害）~ SET descfixed = 1
						END ELSE BEGIN
							PATCH_IF (readamount < 100) BEGIN
								SPRINT effectdesc ~{疾病（每秒1点毒素伤害）~ SET descfixed = 1
							END
							PATCH_IF (readamount > 99)&&(readamount < 256) BEGIN
								SPRINT effectdesc ~{疾病（生物HP>100／%readamount%时每秒1点毒素伤害）~ SET descfixed = 1
							END
						END
					END					
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{疾病（每%readpara4%秒%readamount%点毒素伤害）~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{疾病（每%readamount%﹡%readpara4%秒1点毒素伤害）~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{疾病（力量减少%readamount%点）~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{疾病（敏捷减少%readamount%点）~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{疾病（体质减少%readamount%点）~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{疾病（智力减少%readamount%点）~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{疾病（感知减少%readamount%点）~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{疾病（魅力减少%readamount%点）~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{疾病（迟缓）~ SET descfixed = 1 END
					PATCH_IF (readtype == 11)||(readtype == 12) BEGIN SPRINT effectdesc ~{疾病（真菌感染）~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{疾病（流感，迟缓且力量、敏捷、魅力均减少%readamount%点）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 79 BEGIN
					SPRINT effectdesc ~{解除疾病~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 80 BEGIN
					SPRINT effectdesc ~{耳聋~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 81 BEGIN
					SPRINT effectdesc ~{解除耳聋~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 83 BEGIN
					READ_LONG 0x20 readtype
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MISSILE~ (readtype + 1)
					SPRINT effectdesc ~{防护投射：%idsentry%~
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~PROJECTL~ readtype
					SPRINT effectdesc ~%effectdesc%~^~（%idsentry%）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 84 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{魔法火焰伤害抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{魔法火焰伤害抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{魔法火焰伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 85 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{魔法寒冷伤害抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{魔法寒冷伤害抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{魔法寒冷伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 86 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{挥砍伤害抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{挥砍伤害抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{挥砍伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 87 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{钝击伤害抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{钝击伤害抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{钝击伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 88 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{穿刺伤害抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{穿刺伤害抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{穿刺伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 89 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{远程伤害抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{远程伤害抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{远程伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 90 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{开锁数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{开锁数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{开锁数值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 91 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{找寻陷阱数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{找寻陷阱数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{找寻陷阱数值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 92 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{扒窃数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{扒窃数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{扒窃数值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 93 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{疲劳数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{疲劳数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{疲劳数值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 94 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{醉酒数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{醉酒数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{醉酒数值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 96 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{等级修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{等级设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{等级设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 97 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{力量18时尾数修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{力量18时尾数设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{力量18时尾数设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 98 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x60 readpara3
					READ_LONG 0x64 readpara4
					SET readpara4 = (readpara4 == 0)? 1 : readpara4
					SET descfixed = 0
					PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT effectdesc ~{每秒再生1HP~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN
						PATCH_IF (readpara4 != 0) BEGIN
							SPRINT effectdesc ~{每秒再生1HP~ SET descfixed = 1
						END ELSE BEGIN
							PATCH_IF (readamount < 100) BEGIN
								SPRINT effectdesc ~{每秒再生1HP~ SET descfixed = 1
							END
							PATCH_IF (readamount > 99)&&(readamount < 256) BEGIN
								SPRINT effectdesc ~{生物HP>100／%readamount%时每秒再生1HP~ SET descfixed = 1
							END
						END
					END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{每%readpara4%秒再生%readamount%HP~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{每%readamount%﹡%readpara4%秒再生1HP~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{每%readamount%﹡%readpara4%秒再生%readpara3%HP~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 99 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{奥术持续时间设为：%readamount％%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{神术持续时间设为：%readamount％%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{战歌持续时间设为：%readamount％%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 100 BEGIN
					SPRINT effectdesc ~{防护生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
	
				PATCH_IF opcode == 101 BEGIN
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{防护效果条目：~
					INNER_ACTION BEGIN
						COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
							COUNT_2DA_ROWS 2 maxrows
							FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
								READ_2DA_ENTRY index 0 2 readopcode
								READ_2DA_ENTRY index 1 2 readopcodename
								PATCH_IF readopcode == readtype BEGIN
									SPRINT effectdesc ~%effectdesc%~^~%readopcodename%~
									SET index = maxrows + 1
								END
							END
							PATCH_IF index < maxrows BEGIN
								SPRINT effectdesc ~%effectdesc%~^~未知效果~
							END
						BUT_ONLY
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 102 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{免疫%readamount%级法术~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 104 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{经验值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{经验值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{经验值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 105 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{金币数修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{金币数设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{金币数设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 106 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{士气崩溃阈值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN
						PATCH_IF (readamount < 2) BEGIN SPRINT effectdesc ~{防止士气崩溃~ SET descfixed = 1 END
						ELSE BEGIN SPRINT effectdesc ~{士气崩溃阈值设为%readamount%~ SET descfixed = 1 END
					END		
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{士气崩溃阈值设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						//SPRINT effectdesc ~%effectdesc%~^~（生物具有“初始士气”“士气崩溃阈值”和“士气恢复间隔”三个数据。队友死亡-2士气[限玩家]，HP每次低于50%和25%时-2士气，每经过“士气恢复间隔”帧恢复1点士气）。当士气低于“士气崩溃阈值”时陷入恐惧或狂暴）~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 109 BEGIN
					SPRINT effectdesc ~{麻痹生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 111 BEGIN
					READ_LONG 0x1c readamount
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{产生魔法武器：%namestr%，数量%readamount%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 112 BEGIN
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{移除物品：%namestr%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 114 BEGIN
					SPRINT effectdesc ~{可识别（生物在已探索但无视野的半迷雾区域可进行互动）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 115 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{侦测邪恶（发红光）~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{侦测中立（发蓝光）~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{侦测善良（发绿光）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 116 BEGIN
					SPRINT effectdesc ~{解除隐形~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF (opcode == 119)||(opcode == 159) BEGIN
					READ_LONG 0x1c readamount
					PATCH_IF (opcode == 119) BEGIN SPRINT effectdesc ~{产生镜影~ END
					ELSE BEGIN SPRINT effectdesc ~{产生%readamount%个镜影~ END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 120 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{免疫附魔等级%readamount%的武器~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{免疫魔法武器~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{免疫非魔法武器~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{免疫银质武器~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{免疫非银质武器~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{免疫非银质或非魔法武器~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{免疫寒铁武器~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{免疫非寒铁武器~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 122 BEGIN
					READ_LONG 0x1c readamount
					READ_ASCII 0x30 readres
					READ_LONG 0x60 readpara3
					READ_LONG 0x64 readpara4
					READ_ASCII 0x70 readres2
					READ_ASCII 0x78 readres3
					SET descfixed = 0
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr0 = namestr END
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres2%~ RET namestr1 = namestr END
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres3%~ RET namestr2 = namestr END
					PATCH_IF (STRING_LENGTH namestr0 > 0) BEGIN SET descfixed = 1 END
					PATCH_IF (STRING_LENGTH namestr1 > 0) BEGIN SET descfixed = 2 END
					PATCH_IF (STRING_LENGTH namestr2 > 0) BEGIN SET descfixed = 3 END
					//物品不存在时，归还的namestr为空
					PATCH_IF (descfixed == 1) BEGIN
						SPRINT effectdesc ~{创建物品栏物品：%namestr0%，数量%readamount%~
						PATCH_IF (readpara3 > 0)||(readpara4 > 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara3%~ END
						PATCH_IF readpara4 > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara4%~ END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
					PATCH_IF (descfixed == 2) BEGIN
						SPRINT effectdesc ~{创建物品栏物品：%namestr0%／%namestr1%，数量%readamount%~
						PATCH_IF (readpara3 > 0)||(readpara4 > 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara3%~ END
						PATCH_IF readpara4 > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara4%~ END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
					PATCH_IF (descfixed == 3) BEGIN
						PATCH_IF (FILE_EXISTS_IN_GAME ~%readres2%.itm~) BEGIN
							SPRINT effectdesc ~{创建物品栏物品：%namestr0%／%namestr1%／%namestr2%，数量%readamount%~
						END ELSE BEGIN
							SPRINT effectdesc ~{创建物品栏物品：%namestr0%／%namestr2%，数量%readamount%~
						END
						PATCH_IF (readpara3 > 0)||(readpara4 > 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara3%~ END
						PATCH_IF readpara4 > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara4%~ END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 123 BEGIN
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{移除物品栏物品：%namestr%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 124 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{传送~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{将源传送到目标~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{传送回已记忆地点~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{交换源和目标~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 125 BEGIN
					SPRINT effectdesc ~{敲击开锁~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 126 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{移动速率修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{移动速率设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{移动速率设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{移动速率设为：当前的%readamount%％（可累加）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 127 BEGIN
					SPRINT effectdesc ~{召唤指定生物~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END	
				
				PATCH_IF opcode == 128 BEGIN
					SPRINT effectdesc ~{困惑~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END	
				
				PATCH_IF opcode == 129 BEGIN
					READ_LONG 0x1c readamount
					READ_BYTE 0x1c readtype	//重复读readamount，仅读第一个字节
					SET descfixed = 0
					PATCH_IF (readamount > 0) BEGIN SPRINT effectdesc ~{援助：命中、伤害、豁免+%readtype%有利，最大HP增加%readamount%D8~ SET descfixed = 1 END
					PATCH_IF (readamount < 0) BEGIN SPRINT effectdesc ~{反向援助：命中、伤害、豁免%readtype%不利~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END	
				
				PATCH_IF opcode == 130 BEGIN
					READ_BYTE 0x1c readamount	//仅读第一个字节
					SPRINT effectdesc ~{祝福（命中伤害获得%readamount%修正，士气+5）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 131 BEGIN
					READ_BYTE 0x1c readamount	//仅读第一个字节
					SPRINT effectdesc ~{幸运值设置（正面祈祷，不累加）：%readamount%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 132 BEGIN
					READ_BYTE 0x1c readamount	//仅读第一个字节
					SPRINT effectdesc ~{力量敏捷体质修正%readamount%点，不累加~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 133 BEGIN
					READ_BYTE 0x1c readamount	//仅读第一个字节
					SPRINT effectdesc ~{幸运值设置（不累加）：%readamount%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 134 BEGIN
					SPRINT effectdesc ~{石化~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 135 BEGIN
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					READ_LONG 0x60 readpara3
					READ_LONG 0x64 readpara4
					SET descfixed = 0
					PATCH_IF (STRING_LENGTH readres == 0) || (NOT FILE_EXISTS_IN_GAME ~%readres%.cre~) BEGIN
						SPRINT newdesc ~%newdesc%~^~{解除变形~
						SET descfixed = 2
					END ELSE BEGIN
						PATCH_IF readpara4 != 0 BEGIN
							LOOKUP_IDS_SYMBOL_OF_INT namestr ~EA~ readpara4
							SET descfixed = 1
						END ELSE BEGIN
							LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR crecode = EVAL ~%readres%~ RET namestr END
							SET descfixed = 1
						END
					END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readtype == 0 BEGIN SPRINT effectdesc ~{变形为：%namestr%（数值和外形均改变）~ END
						PATCH_IF readtype == 1 BEGIN SPRINT effectdesc ~{变形为：%namestr%（仅外形改变）~ END
						PATCH_IF readpara3 > 1 BEGIN SPRINT effectdesc ~%effectdesc%~^~，生物选择圆圈大小设为%readpara3%~ END
					END
					PATCH_IF (descfixed > 0) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 136 BEGIN
					SPRINT effectdesc ~{强制可见~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 137 BEGIN
					READ_BYTE 0x1c readamount	//仅读第一个字节
					SPRINT effectdesc ~{幸运值设置（负面祈祷，不累加）：%readamount%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 138 BEGIN
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{演示动作：~
					PATCH_MATCH readtype
					WITH
						0 BEGIN SPRINT effectdesc ~%effectdesc%~^~攻击~ END
						1 BEGIN SPRINT effectdesc ~%effectdesc%~^~苏醒~ END
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~施法~ END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~召唤~ END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~受伤~ END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~死亡~ END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~超度~ END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~准备~ END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~射击~ END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~抽搐~ END
						10 BEGIN SPRINT effectdesc ~%effectdesc%~^~行走~ END
						11 BEGIN SPRINT effectdesc ~%effectdesc%~^~攻击（竖劈）~ END
						12 BEGIN SPRINT effectdesc ~%effectdesc%~^~攻击（横扫）~ END
						13 BEGIN SPRINT effectdesc ~%effectdesc%~^~攻击（直刺）~ END
						14 BEGIN SPRINT effectdesc ~%effectdesc%~^~显形~ END
						15 BEGIN SPRINT effectdesc ~%effectdesc%~^~隐藏~ END
						16 BEGIN SPRINT effectdesc ~%effectdesc%~^~昏睡~ END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~未知~
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 143 BEGIN
					READ_LONG 0x1c readamount
					READ_ASCII 0x30 readres
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~SLOTS~ readamount
					PATCH_IF (readamount == 15) BEGIN SPRINT idsentry ~SLOT_MISC0（QUICK0）~ END
					PATCH_IF (readamount == 16) BEGIN SPRINT idsentry ~SLOT_MISC1（QUICK1）~ END
					PATCH_IF (readamount == 17) BEGIN SPRINT idsentry ~SLOT_MISC2（QUICK2）~ END
					PATCH_IF (readamount == 34) BEGIN SPRINT idsentry ~SLOT_MISC19（Magical_Weapon）~ END
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{在%idsentry%栏创建物品：%namestr%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 144 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{禁止潜行按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{禁止盗贼能力按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{禁止法术选择按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{禁止快捷法术I按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{禁止快捷法术II按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{禁止快捷法术III按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{禁止超度按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{禁止对话按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{禁止使用物品能力按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{禁止快捷物品I按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{禁止诗人演奏按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{禁止快捷物品II按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{禁止快捷物品III按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{禁止施展特殊能力按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 14) BEGIN SPRINT effectdesc ~{禁止寻找陷阱按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 15) BEGIN SPRINT effectdesc ~{禁止物品栏按钮~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 145 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{禁止法师施法~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{禁止牧师施法~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{禁止施展法术以外的技能~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{禁止施展法术和类法术能力~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 146 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					SET descfixed = 0
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						PATCH_IF (readamount == 0)&&(readtype == 0) BEGIN SPRINT effectdesc ~{以人物等级施法：%namestr%~ SET descfixed = 1 END
						PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT effectdesc ~{以等级%readamount%施法：%namestr%~ SET descfixed = 1 END
						PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{以人物等级瞬间施法：%namestr%~ SET descfixed = 1 END
						PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{以等级%readamount%瞬间施法：%namestr%~ SET descfixed = 1 END
					END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[法师]~ END
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[牧师]~ END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 147 BEGIN
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{学习法术：%namestr%~
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 148 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					SET descfixed = 0
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{以等级%readamount%向目的地施法：%namestr%~ SET descfixed = 1 END
						PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{瞬间向目的地施法：%namestr%~ SET descfixed = 1 END
					END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[法师]~ END
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[牧师]~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 150 BEGIN
					SPRINT effectdesc ~{显示陷阱~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 151 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{移除并替换生物~ SET descfixed = 1 END
					PATCH_IF (readtype == 1)||(readtype == 2) BEGIN SPRINT effectdesc ~{杀死并替换生物~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 153 BEGIN
					SPRINT effectdesc ~{圣域~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 154 BEGIN
					SPRINT effectdesc ~{纠缠~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				PATCH_IF opcode == 157 BEGIN
					SPRINT effectdesc ~{蛛网~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				PATCH_IF opcode == 158 BEGIN
					SPRINT effectdesc ~{油腻~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 160 BEGIN
					SPRINT effectdesc ~{解除圣域~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 161 BEGIN
					SPRINT effectdesc ~{解除恐惧~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 162 BEGIN
					SPRINT effectdesc ~{解除定身~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 163 BEGIN
					SPRINT effectdesc ~{自由行动（解除被设为较低值的移动速率修正I）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 164 BEGIN
					SPRINT effectdesc ~{解除醉酒~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 165 BEGIN
					SPRINT effectdesc ~{暂停目标~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 166 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{魔法抗力修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{魔法抗力设为：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 167 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{远程THAC0修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{远程THAC0设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{远程THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 168 BEGIN
					SPRINT effectdesc ~{移除生物~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 171 BEGIN
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{获得能力或法术：%namestr%~
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 172 BEGIN
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{失去能力或法术：%namestr%~
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 173 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{毒素抗力修正：%readamount%％~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 175 BEGIN
					SPRINT effectdesc ~{I型定身生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 176 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{移动速率修正（无视自由行动）：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{移动速率设为（无视自由行动）：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{移动速率设为（无视自由行动）：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{移动速率设为（无视自由行动）：当前的%readamount%％（可累加）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 177 BEGIN
					SPRINT effectdesc ~{对指定生物类型应用特定效果：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 178 BEGIN
					SPRINT effectdesc ~{对特定生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					READ_LONG 0x60 readpara3
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					PATCH_IF readpara3 > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~命中修正：%readpara3%~ END
					ELSE BEGIN
						SPRINT effectdesc ~%effectdesc%~^~命中修正：%readspecial%~
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 179 BEGIN
					SPRINT effectdesc ~{对特定生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					READ_LONG 0x60 readpara3
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					PATCH_IF readpara3 > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~伤害修正：%readpara3%~ END
					ELSE BEGIN
						SPRINT effectdesc ~%effectdesc%~^~伤害修正：%readspecial%~
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 180 BEGIN
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{禁止使用物品：%namestr%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 181 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readamount
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{禁止装备物品类型：%idsentry%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{禁止使用物品类型：%idsentry%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 184 BEGIN
					READ_LONG 0x20 readtype
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{穿墙（无法停留在不可通行区域）~ END
					ELSE BEGIN SPRINT effectdesc ~{穿墙（允许停留在不可通行区域）~ END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 185 BEGIN
					SPRINT effectdesc ~{II型定身生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 188 BEGIN
					SPRINT effectdesc ~{空气滤净~
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 189 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{施法速度修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{施法时间设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{施法时间设为不超过：%readamount%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 190 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{武器出手速度修正：%readamount%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 191 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{奥术施法等级修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{神术施法等级修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 193 BEGIN
					SPRINT effectdesc ~{在脚本中允许攻击隐形生物~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 197 BEGIN
					READ_LONG 0x20 readtype
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MISSILE~ (readtype + 1)
					SPRINT effectdesc ~{反弹投射：%idsentry%~
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~PROJECTL~ readtype
					SPRINT effectdesc ~%effectdesc%~^~（%idsentry%）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 198 BEGIN
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{反弹效果条目：~
					INNER_ACTION BEGIN
						COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
							COUNT_2DA_ROWS 2 maxrows
							FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
								READ_2DA_ENTRY index 0 2 readopcode
								READ_2DA_ENTRY index 1 2 readopcodename
								PATCH_IF readopcode == readtype BEGIN
									SPRINT effectdesc ~%effectdesc%~^~%readopcodename%~
									SET index = maxrows + 1
								END
							END
							PATCH_IF index < maxrows BEGIN
								SPRINT effectdesc ~%effectdesc%~^~未知效果~
							END
						BUT_ONLY
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 199 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{反弹%readamount%级法术~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 200 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{反弹%readtype%级法术，共反弹%readamount%次~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 201 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{吸收%readtype%级法术，共吸收%readamount%次~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 202 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{反弹学派：防护系~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{反弹学派：咒法系~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{反弹学派：预言系~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{反弹学派：附魔系~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{反弹学派：幻术系~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{反弹学派：塑能系~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{反弹学派：死灵系~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{反弹学派：改变系~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{反弹学派：全部~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				PATCH_IF opcode == 203 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{反弹第二类型：法术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{反弹第二类型：特殊防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{反弹第二类型：幻术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{反弹第二类型：破魔~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{反弹第二类型：破幻~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{反弹第二类型：咒法~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{反弹第二类型：战斗防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{反弹第二类型：意外~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{反弹第二类型：战场~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{反弹第二类型：攻击伤害~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{反弹第二类型：失能~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{反弹第二类型：综合~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{反弹第二类型：非战斗~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
					
				PATCH_IF opcode == 204 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{防护学派：防护系~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{防护学派：咒法系~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{防护学派：预言系~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{防护学派：附魔系~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{防护学派：幻术系~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{防护学派：塑能系~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{防护学派：死灵系~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{防护学派：改变系~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{防护学派：全部~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 205 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{防护第二类型：法术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{防护第二类型：特殊防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{防护第二类型：幻术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{防护第二类型：破魔~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{防护第二类型：破幻~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{防护第二类型：咒法~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{防护第二类型：战斗防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{防护第二类型：意外~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{防护第二类型：战场~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{防护第二类型：攻击伤害~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{防护第二类型：失能~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{防护第二类型：综合~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{防护第二类型：非战斗~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 206 BEGIN
					READ_ASCII 0x30 readres
					SET descfixed = 0
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{防护法术：%namestr%~
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[法师]~ END
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[牧师]~ END
						SET descfixed = 1
					END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 207 BEGIN
					READ_ASCII 0x30 readres
					SET descfixed = 0
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{反弹法术：%namestr%~
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[法师]~ END
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[牧师]~ END
						SET descfixed = 1
					END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 208 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{最小HP限制：%readamount%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 209 BEGIN
					SPRINT effectdesc ~{杀死60HP以下生物~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 210 BEGIN
					SPRINT effectdesc ~{震慑90HP以下生物~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 211 BEGIN
					SPRINT effectdesc ~{禁锢~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 212 BEGIN
					SPRINT effectdesc ~{自由~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 213 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{迷宫~
					PATCH_IF (readamount == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~（对象智力决定持续时间）~ END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 214 BEGIN
					SPRINT effectdesc ~{选择法术列表~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 216 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{吸取%readamount%个等级~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 217 BEGIN
					SPRINT effectdesc ~{昏迷20HP以下生物~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 218 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{%readamount%层石肤~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) && (readamount == 0) BEGIN SPRINT effectdesc ~{随机层数石肤~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) && (readamount != 0) BEGIN SPRINT effectdesc ~{至少%readamount%层石肤~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END	
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END		
					END
				END
				
				PATCH_IF opcode == 219 BEGIN
					SPRINT effectdesc ~{对特定生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					SPRINT effectdesc ~%effectdesc%~^~防御修正：%readspecial%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 220 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{移除学派：防护系~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{移除学派：咒法系~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{移除学派：预言系~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{移除学派：附魔系~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{移除学派：幻术系~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{移除学派：塑能系~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{移除学派：死灵系~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{移除学派：改变系~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{移除学派：全部~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				PATCH_IF opcode == 221 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{移除第二类型：法术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{移除第二类型：特殊防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{移除第二类型：幻术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{移除第二类型：破魔~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{移除第二类型：破幻~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{移除第二类型：咒法~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{移除第二类型：战斗防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{移除第二类型：意外~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{移除第二类型：战场~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{移除第二类型：攻击伤害~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{移除第二类型：失能~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{移除第二类型：综合~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{移除第二类型：非战斗~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 222 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{传送域（最大范围%readamount%呎）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 223 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{吸收学派：吸收系~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{吸收学派：咒法系~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{吸收学派：预言系~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{吸收学派：附魔系~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{吸收学派：幻术系~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{吸收学派：塑能系~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{吸收学派：死灵系~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{吸收学派：改变系~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{吸收学派：全部~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，总共吸收%readamount%次~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 224 BEGIN
					SPRINT effectdesc ~{解除等级吸取~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 226 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{吸收第二类型：法术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{吸收第二类型：特殊防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{吸收第二类型：幻术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{吸收第二类型：破魔~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{吸收第二类型：破幻~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{吸收第二类型：咒法~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{吸收第二类型：战斗防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{吸收第二类型：意外~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{吸收第二类型：战场~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{吸收第二类型：攻击伤害~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{吸收第二类型：失能~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{吸收第二类型：综合~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{吸收第二类型：非战斗~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，总共吸收%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 227 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{反弹学派：防护系~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{反弹学派：咒法系~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{反弹学派：预言系~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{反弹学派：附魔系~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{反弹学派：幻术系~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{反弹学派：塑能系~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{反弹学派：死灵系~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{反弹学派：改变系~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{反弹学派：全部~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，总共反弹%readamount%次~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				PATCH_IF opcode == 228 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{反弹第二类型：法术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{反弹第二类型：特殊防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{反弹第二类型：幻术防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{反弹第二类型：破魔~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{反弹第二类型：破幻~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{反弹第二类型：咒法~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{反弹第二类型：战斗防护~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{反弹第二类型：意外~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{反弹第二类型：战场~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{反弹第二类型：攻击伤害~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{反弹第二类型：失能~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{反弹第二类型：综合~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{反弹第二类型：非战斗~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，总共反弹%readamount%次~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 229 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{移除一个防护系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{移除一个咒法系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{移除一个预言系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{移除一个附魔系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{移除一个幻术系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{移除一个塑能系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{移除一个死灵系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{移除一个改变系法术的效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{移除一个任意学派法术的效果~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				PATCH_IF opcode == 230 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{移除一个第二类型为法术防护的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{移除一个第二类型为特殊防护的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{移除一个第二类型为幻术防护的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{移除一个第二类型为破魔的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{移除一个第二类型为破幻的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{移除一个第二类型为咒法的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{移除一个第二类型为战斗防护的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{移除一个第二类型为意外的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{移除一个第二类型为战场的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{移除一个第二类型为攻击伤害的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{移除一个第二类型为失能的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{移除一个第二类型为综合的法术效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{移除一个第二类型为非战斗的法术效果~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readamount > 0  BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 231 BEGIN
					SPRINT effectdesc ~{时间停止~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 232 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					READ_LONG 0x48 readspecial
					SPRINT effectdesc ~{符合条件施法：~
					PATCH_MATCH readtype
					WITH
						0 BEGIN SPRINT effectdesc ~%effectdesc%~^~被攻击命中~ END
						1 BEGIN SPRINT effectdesc ~%effectdesc%~^~发现敌人~ END
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~HP小于50％~ END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~HP小于25％~ END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~HP小于10％~ END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~处于无助状态~ END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~中毒~ END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~遭受攻击~ END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~4呎内存在生物~ END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~10呎内存在生物~ END
						11 BEGIN SPRINT effectdesc ~%effectdesc%~^~受伤~ END
						12 BEGIN SPRINT effectdesc ~%effectdesc%~^~杀死生物~ END
						13 BEGIN SPRINT effectdesc ~%effectdesc%~^~处于时间段：~ END
						14 BEGIN SPRINT effectdesc ~%effectdesc%~^~%readspecial%呎内存在生物~ END
						15 BEGIN SPRINT effectdesc ~%effectdesc%~^~有生物处于~ END
						16 BEGIN SPRINT effectdesc ~%effectdesc%~^~自身死亡~ END
						17 BEGIN SPRINT effectdesc ~%effectdesc%~^~有生物死亡~ END
						18 BEGIN SPRINT effectdesc ~%effectdesc%~^~被超度~ END
						19 BEGIN SPRINT effectdesc ~%effectdesc%~^~HP小于%readspecial%~ END
						20 BEGIN SPRINT effectdesc ~%effectdesc%~^~HP小于%readspecial%％~ END
						21 BEGIN SPRINT effectdesc ~%effectdesc%~^~处于~ END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（条件出错）~
					END
					PATCH_IF (readtype == 13) BEGIN
						PATCH_MATCH readspecial
							WITH
							0 BEGIN SPRINT effectdesc ~%effectdesc%~^~白天~ END
							1 BEGIN SPRINT effectdesc ~%effectdesc%~^~黄昏~ END
							2 BEGIN SPRINT effectdesc ~%effectdesc%~^~夜晚~ END
							3 BEGIN SPRINT effectdesc ~%effectdesc%~^~早晨~ END
							DEFAULT SPRINT effectdesc ~%effectdesc%~^~（时间出错）~
						END
					END
					PATCH_IF readtype == 15 BEGIN
						LOOKUP_IDS_SYMBOL_OF_INT idsentry ~state~ readspecial
					END
					PATCH_IF readtype == 21 BEGIN
						LOOKUP_IDS_SYMBOL_OF_INT idsentry ~splstate~ readspecial
					END
					PATCH_MATCH readamount
						WITH
						0 BEGIN SPRINT effectdesc ~%effectdesc%~^~时，对自身施法：~ END
						1 BEGIN SPRINT effectdesc ~%effectdesc%~^~时，对最后攻击者施法：~ END
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~时，对最近的敌人施法：~ END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~时，对最近的对象施法：~ END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（对象出错）~
					END
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr == 0) BEGIN SPRINT namestr ~法术文件缺失~ END
					SPRINT effectdesc ~%effectdesc%~^~%namestr%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 233 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_MATCH readamount
						WITH
						89 BEGIN SPRINT weapontype ~巨剑~ SET descfixed = 1 END
						90 BEGIN SPRINT weapontype ~长剑~ SET descfixed = 1 END
						91 BEGIN SPRINT weapontype ~短剑~ SET descfixed = 1 END
						92 BEGIN SPRINT weapontype ~斧~ SET descfixed = 1 END
						93 BEGIN SPRINT weapontype ~双手剑~ SET descfixed = 1 END
						94 BEGIN SPRINT weapontype ~武士刀~ SET descfixed = 1 END
						95 BEGIN SPRINT weapontype ~弯刀／肋差／忍者刀~ SET descfixed = 1 END
						96 BEGIN SPRINT weapontype ~匕首~ SET descfixed = 1 END
						97 BEGIN SPRINT weapontype ~战锤~ SET descfixed = 1 END
						98 BEGIN SPRINT weapontype ~矛~ SET descfixed = 1 END
						99 BEGIN SPRINT weapontype ~戟~ SET descfixed = 1 END
						100 BEGIN SPRINT weapontype ~链枷／星芒锤~ SET descfixed = 1 END
						101 BEGIN SPRINT weapontype ~钉头锤~ SET descfixed = 1 END
						102 BEGIN SPRINT weapontype ~手杖~ SET descfixed = 1 END
						103 BEGIN SPRINT weapontype ~十字弓~ SET descfixed = 1 END
						104 BEGIN SPRINT weapontype ~长弓~ SET descfixed = 1 END
						105 BEGIN SPRINT weapontype ~短弓~ SET descfixed = 1 END
						106 BEGIN SPRINT weapontype ~飞镖~ SET descfixed = 1 END
						107 BEGIN SPRINT weapontype ~投石索~ SET descfixed = 1 END
						111 BEGIN SPRINT weapontype ~双手武器~ SET descfixed = 1 END
						112 BEGIN SPRINT weapontype ~剑盾~ SET descfixed = 1 END
						113 BEGIN SPRINT weapontype ~单手武器~ SET descfixed = 1 END
						114 BEGIN SPRINT weapontype ~双武器~ SET descfixed = 1 END
						DEFAULT SET descfixed = 0
					END
					PATCH_IF (descfixed == 1) && (readamount >= 0) && (readamount < 6) BEGIN SPRINT effectdesc ~{设置%weapontype%熟练度为%readamount%~ END ELSE BEGIN SET descfixed = 0 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 234 BEGIN
					READ_LONG 0x1c readamount
					READ_BYTE 0x20 readtype	//只读单字节
					READ_BYTE 0x21 readtype	//读第二个字节
					SET descfixed = 0
					PATCH_IF (readspecial == 0) BEGIN SPRINT effectdesc ~{连锁意外术~ SET descfixed = 1 END
					PATCH_IF (readspecial == 1) BEGIN SPRINT effectdesc ~{普通意外术~ SET descfixed = 1 END
					PATCH_IF (readspecial == 2) BEGIN SPRINT effectdesc ~{序列器~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						SET readtype = (readtype > 3) ? 3 : readtype
						SPRINT effectdesc ~%effectdesc%~^~，最高可装填%readamount%级法术，数量为%readtype%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 235 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0)||(readtype == 1) BEGIN SPRINT effectdesc ~{吹飞，速度%readamount%远离发生地~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{吹飞，速度%readamount%远离使用者~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{吹飞，速度%readamount%朝向发生地~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{吹飞，速度%readamount%朝向使用者~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END		

				PATCH_IF opcode == 236 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{复制~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{误导~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{投影~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{拟像~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 238 BEGIN
					SPRINT effectdesc ~{解离生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 239 BEGIN
					SPRINT effectdesc ~{远视术~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 241 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readamount == 0) BEGIN SPRINT effectdesc ~{控制生物类型：全部~ SET descfixed = 1 END
					PATCH_IF (readamount == 1) BEGIN SPRINT effectdesc ~{控制生物类型：人类~ SET descfixed = 1 END
					PATCH_IF (readamount == 2) BEGIN SPRINT effectdesc ~{控制生物类型：动物~ SET descfixed = 1 END
					PATCH_IF (readamount == 4) BEGIN SPRINT effectdesc ~{控制生物类型：不死生物~ SET descfixed = 1 END
					PATCH_IF (readamount == 5) BEGIN SPRINT effectdesc ~{控制生物类型：巨人~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 242 BEGIN
					SPRINT effectdesc ~{解除困惑~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 243 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{吸取%readamount%个物品使用次数~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 244 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{吸取%readamount%个法师法术~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 245 BEGIN
					SPRINT effectdesc ~{1％概率陷入狂暴~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 246 BEGIN
					SPRINT effectdesc ~{I型狂暴~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 247 BEGIN
					READ_LONG 0x20 readtype
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{II型狂暴~ END
					ELSE BEGIN SPRINT effectdesc ~{战斗中II型狂暴~ END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 248 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{设置近战攻击触发特定效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{设置徒手攻击触发特定效果~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 249 BEGIN
					SPRINT effectdesc ~{设置远程攻击触发特定效果~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 250 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{伤害掷骰修正：%readamount%~ END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 251 BEGIN
					SPRINT effectdesc ~{改变战歌效果为特定法术~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 252 BEGIN
					SPRINT effectdesc ~{设置特定陷阱~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 255 BEGIN
					READ_LONG 0x1c readamount
					READ_ASCII 0x30 readres
					READ_LONG 0x60 readpara3
					READ_LONG 0x64 readpara4
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{创建物品栏物品，存在持续时间﹡天数：%namestr%，数量%readamount%~
						PATCH_IF (readpara3 > 0)||(readpara4 > 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara3%~ END
						PATCH_IF readpara4 > 0 BEGIN SPRINT effectdesc ~%effectdesc%~^~／%readpara4%~ END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END				
				
				PATCH_IF opcode == 257 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{存储%readtype%个法术成为序列，最高存储%readamount%级法术~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 259 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{吸收并恢复%readtype%级法术，共吸收%readamount%次~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 261 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{恢复一个最高%readamount%级的奥术~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{恢复一个最高%readamount%级的神术~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 262 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{视距范围修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{视距范围设为：%readamount%~ SET descfixed = 1 END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 263 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{背刺倍数修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{背刺倍数设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{背刺倍数设为现有的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 264 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{丢弃随机装备~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{丢弃快速武器栏装备~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 266 BEGIN
					SPRINT effectdesc ~{移除对指定法术的防护~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 268 BEGIN
					SPRINT effectdesc ~{和队员共享视野~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 269 BEGIN
					READ_LONG 0x1c readamount
					SPRINT effectdesc ~{震动窗口（力度%readamount%）~
				END

				PATCH_IF opcode == 270 BEGIN
					SPRINT effectdesc ~{解除暂停~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 272 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x60 readpara3
					READ_LONG 0x64 readpara4
					SET readpara4 = (readpara4 == 0)? 1 : readpara4
					SET descfixed = 0
					PATCH_IF (readtype == 0)&&(readamount != 0) BEGIN SPRINT effectdesc ~{每秒一次，重复应用特定效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{应用特定效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{每%readpara4%秒%readamount%次，重复应用特定效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{每%readamount%﹡%readpara4%秒一次，重复应用特定效果~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{每%readamount%﹡%readpara4%秒%readpara3%次，重复应用特定效果~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 273 BEGIN
					SPRINT effectdesc ~{空气滤净~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 274 BEGIN
					SPRINT effectdesc ~{传送到随机敌对目标~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 275 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{阴影躲藏数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{阴影躲藏数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{阴影躲藏数值设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 276 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{侦测幻象数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{侦测幻象数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{侦测幻象数值设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 277 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{设置陷阱数值修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{设置陷阱数值设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{设置陷阱数值设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 278 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{命中修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{命中设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{命中设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 279 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{还原被禁止的潜行按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{还原被禁止的盗贼能力按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{还原被禁止的法术选择按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{还原被禁止的快捷法术I按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{还原被禁止的快捷法术II按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{还原被禁止的快捷法术III按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{还原被禁止的超度按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{还原被禁止的对话按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{还原被禁止的使用物品能力按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{还原被禁止的快捷物品I按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{还原被禁止的诗人演奏按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 11) BEGIN SPRINT effectdesc ~{还原被禁止的快捷物品II按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 12) BEGIN SPRINT effectdesc ~{还原被禁止的快捷物品III按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 13) BEGIN SPRINT effectdesc ~{还原被禁止的施展特殊能力按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 14) BEGIN SPRINT effectdesc ~{还原被禁止的寻找陷阱按钮~ SET descfixed = 1 END
					PATCH_IF (readtype == 15) BEGIN SPRINT effectdesc ~{还原被禁止的物品栏按钮~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 280 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{下次施法带有狂乱波动~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{施法带有狂乱波动~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 281 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{狂乱魔法掷骰修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{狂乱魔法掷骰设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{狂乱魔法掷骰设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 283 BEGIN
					SPRINT effectdesc ~{对生物类型应用指定诅咒效果：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 284 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{近战THAC0修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{近战THAC0设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{近战THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 285 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{近战伤害修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{近战伤害设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{近战伤害设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 286 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{远程伤害修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{远程伤害设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{远程伤害设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 288 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{徒手THAC0修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{徒手THAC0设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{徒手THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 289 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{徒手伤害修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{徒手伤害设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{徒手伤害设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 292 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype != 0) BEGIN SPRINT effectdesc ~{免疫背刺~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 295 BEGIN
					SPRINT effectdesc ~{防止永久死亡~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 297 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype != 0) BEGIN SPRINT effectdesc ~{免疫超度~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 299 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readspecial == 0) BEGIN SPRINT effectdesc ~{狂乱魔法掷骰修正%readamount%（显示混乱护盾图标）~ SET descfixed = 1 END
					PATCH_IF (readspecial == 1) BEGIN SPRINT effectdesc ~{狂乱魔法掷骰修正%readamount%（显示高级混乱护盾图标）~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 301 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					READ_LONG 0x60 readpara3
					SET descfixed = 0
					PATCH_IF (readspecial == 0) BEGIN SPRINT effectdesc ~{~ SET descfixed = 1 END
					PATCH_IF (readspecial == 1) BEGIN SPRINT effectdesc ~{近战攻击~ SET descfixed = 1 END
					PATCH_IF (readspecial == 2) BEGIN SPRINT effectdesc ~{远程攻击~ SET descfixed = 1 END
					PATCH_IF (readspecial == 3) BEGIN SPRINT effectdesc ~{魔法攻击~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						SET critiacal = readamount * 5
						SPRINT effectdesc ~%effectdesc%~^~致命一击率修正：%critiacal%％~
						PATCH_IF readpara3 > 0 BEGIN
							LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readpara3
							SPRINT effectdesc ~%effectdesc%~^~，限武器类型%idsentry%~
						END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 303 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype != 0) BEGIN SPRINT effectdesc ~{每击背刺~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 304 BEGIN
					SPRINT effectdesc ~{群体复活队员~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 305 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{副手命中修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{副手命中设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{副手命中设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 306 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{主手命中修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{主手命中设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{主手命中设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 310 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype != 0) BEGIN SPRINT effectdesc ~{免疫时间停止~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 311 BEGIN
					SPRINT effectdesc ~{随机许愿~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 316 BEGIN
					SPRINT effectdesc ~{魔法休息~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF (opcode == 318)||(opcode == 324) BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					SPRINT effectdesc ~{满足特定情况~
					SET descfixed = 0
					INNER_ACTION BEGIN
						COPY_EXISTING ~splprot.2da~ ~override~
							COUNT_2DA_ROWS 4 maxrows
							PATCH_IF readtype < maxrows BEGIN
								READ_2DA_ENTRY readtype 0 4 splprotname
								PATCH_IF ( ~%splprotname%~ STRING_CONTAINS_REGEXP ~[<>=]n$~ ) == 0 BEGIN
									READ_2DA_ENTRY readtype 1 4 splprotstat
										PATCH_MATCH splprotstat
										WITH
											0x106 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~AREATYPE~ readamount SPRINT effectdesc ~%effectdesc%~^~（天气类型为%splproentry%~ END
											0x10a BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~EA~ readamount SPRINT effectdesc ~%effectdesc%~^~（敌友类型为%splproentry%~ END
											0x10b BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENERAL~ readamount SPRINT effectdesc ~%effectdesc%~^~（一般类型为%splproentry%~ END
											0x10c BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~RACE~ readamount SPRINT effectdesc ~%effectdesc%~^~（种族类型为%splproentry%~ END
											0x10d BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~CLASS~ readamount SPRINT effectdesc ~%effectdesc%~^~（职业类型为%splproentry%~ END
											0x10e BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPECIFIC~ readamount SPRINT effectdesc ~%effectdesc%~^~（特殊类型为%splproentry%~ END
											0x10f BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENDER~ readamount SPRINT effectdesc ~%effectdesc%~^~（性别类型为%splproentry%~ END
											0x110 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~ALIGN~ readamount SPRINT effectdesc ~%effectdesc%~^~（阵营类型为%splproentry%~ END
											0x111 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~STATE~ readamount SPRINT effectdesc ~%effectdesc%~^~（状态为%splproentry%~ END
											0x112 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPLSTATE~ readamount SPRINT effectdesc ~%effectdesc%~^~（状态为%splproentry%~ END
											DEFAULT SPRINT effectdesc ~%effectdesc%~^~（%splprotname%，n=%readamount%~
										END
									SPRINT effectdesc ~%effectdesc%~^~）时防护特定法术／物品效果：~
								END ELSE BEGIN
									PATCH_MATCH readtype
									WITH
										21 BEGIN SPRINT effectdesc ~%effectdesc%~^~（21_ENTRIES=MAMMALS）时防护特定法术／物品效果：~ END
										22 BEGIN SPRINT effectdesc ~%effectdesc%~^~（22_ENTRIES!=MAMMALS）时防护特定法术／物品效果：~ END
										31 BEGIN SPRINT effectdesc ~%effectdesc%~^~（31_ENTRIES=UNDEAD&MYCONID）时防护特定法术／物品效果：~ END
										32 BEGIN SPRINT effectdesc ~%effectdesc%~^~（32_ENTRIES!=UNDEAD&MYCONID）时防护特定法术／物品效果：~ END
										47 BEGIN SPRINT effectdesc ~%effectdesc%~^~（47_ENTRIES=UNBREATHING）时防护特定法术／物品效果：~ END
										48 BEGIN SPRINT effectdesc ~%effectdesc%~^~（48_ENTRIES!=UNBREATHING）时防护特定法术／物品效果：~ END
										53 BEGIN SPRINT effectdesc ~%effectdesc%~^~（53_STAT(RESISTFIRE)&(RESISTCOLD)>=100）时防护特定法术／物品效果：~ END
										54 BEGIN SPRINT effectdesc ~%effectdesc%~^~（54_STAT(RESISTFIRE)&(RESISTCOLD)<100）时防护特定法术／物品效果：~ END
										55 BEGIN SPRINT effectdesc ~%effectdesc%~^~（55_ENTRIES=UNDEAD&GOLEM）时防护特定法术／物品效果：~ END
										56 BEGIN SPRINT effectdesc ~%effectdesc%~^~（56_ENTRIES!=UNDEAD&GOLEM）时防护特定法术／物品效果：~ END					
										142 BEGIN SPRINT effectdesc ~%effectdesc%~^~（142_STATEBITS=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时防护特定法术／物品效果：~ END
										143 BEGIN SPRINT effectdesc ~%effectdesc%~^~（143_STATEBITS!=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时防护特定法术／物品效果：~ END
										DEFAULT SPRINT effectdesc ~%effectdesc%~^~（%splprotname%）时防护特定法术／物品效果：~
									END
								END
							END
						BUT_ONLY
					END
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~%effectdesc%~^~法术效果（%namestr%）~
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[法师]~ END
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[牧师]~ END
						SET descfixed = 1
					END
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~物品效果（%namestr%）~ SET descfixed = 2 END
					PATCH_IF (descfixed > 0) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 320 BEGIN
					READ_LONG 0x1c readamount
					SET descfixed = 0
					PATCH_IF (readamount == 0) BEGIN SPRINT effectdesc ~{改变天气：晴~ SET descfixed = 1 END
					PATCH_IF (readamount == 1) BEGIN SPRINT effectdesc ~{改变天气：雨~ SET descfixed = 1 END
					PATCH_IF (readamount == 2) BEGIN SPRINT effectdesc ~{改变天气：雪~ SET descfixed = 1 END
					PATCH_IF (readamount == 3) BEGIN SPRINT effectdesc ~{改变天气：雾~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 321 BEGIN
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					SPRINT effectdesc ~{移除特定法术／物品等效果：~
					SET descfixed = 0
					PATCH_IF (FILE_EXISTS_IN_GAME ~%readres%.spl~)&&((readtype == 0)||(readtype == 2)) BEGIN
						LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
						SPRINT effectdesc ~%effectdesc%~^~法术效果（%namestr%）~
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[法师]~ END
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[牧师]~ END
						SET descfixed = 1
					END
					PATCH_IF (FILE_EXISTS_IN_GAME ~%readres%.itm~)&&((readtype == 0)||(readtype == 1)) BEGIN
						LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
						SPRINT effectdesc ~%effectdesc%~^~物品效果（%namestr%）~
						SET descfixed = 2
					END
					PATCH_IF (descfixed > 0) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 323 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{超度等级修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{超度等级设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{超度等级设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 325 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{所有豁免修正：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{所有豁免设为：%readamount%~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{所有豁免设为：当前的%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END
				
				PATCH_IF opcode == 326 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_ASCII 0x30 readres
					SPRINT effectdesc ~{满足特定情况~
					INNER_ACTION BEGIN
						COPY_EXISTING ~splprot.2da~ ~override~
							COUNT_2DA_ROWS 4 maxrows
							PATCH_IF readtype < maxrows BEGIN
								READ_2DA_ENTRY readtype 0 4 splprotname
								PATCH_IF ( ~%splprotname%~ STRING_CONTAINS_REGEXP ~[<>=]n$~ ) == 0 BEGIN
									READ_2DA_ENTRY readtype 1 4 splprotstat
										PATCH_MATCH splprotstat
										WITH
											0x106 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~AREATYPE~ readamount SPRINT effectdesc ~%effectdesc%~^~（天气类型为%splproentry%~ END
											0x10a BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~EA~ readamount SPRINT effectdesc ~%effectdesc%~^~（敌友类型为%splproentry%~ END
											0x10b BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENERAL~ readamount SPRINT effectdesc ~%effectdesc%~^~（一般类型为%splproentry%~ END
											0x10c BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~RACE~ readamount SPRINT effectdesc ~%effectdesc%~^~（种族类型为%splproentry%~ END
											0x10d BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~CLASS~ readamount SPRINT effectdesc ~%effectdesc%~^~（职业类型为%splproentry%~ END
											0x10e BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPECIFIC~ readamount SPRINT effectdesc ~%effectdesc%~^~（特殊类型为%splproentry%~ END
											0x10f BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENDER~ readamount SPRINT effectdesc ~%effectdesc%~^~（性别类型为%splproentry%~ END
											0x110 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~ALIGN~ readamount SPRINT effectdesc ~%effectdesc%~^~（阵营类型为%splproentry%~ END
											0x111 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~STATE~ readamount SPRINT effectdesc ~%effectdesc%~^~（状态为%splproentry%~ END
											0x112 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPLSTATE~ readamount SPRINT effectdesc ~%effectdesc%~^~（状态为%splproentry%~ END
											DEFAULT SPRINT effectdesc ~%effectdesc%~^~（%splprotname%，n=%readamount%~
										END
									SPRINT effectdesc ~%effectdesc%~^~）时应用特定法术~
								END ELSE BEGIN	
									PATCH_MATCH readtype
									WITH
										21 BEGIN SPRINT effectdesc ~%effectdesc%~^~（21_ENTRIES=MAMMALS）时应用特定法术~ END
										22 BEGIN SPRINT effectdesc ~%effectdesc%~^~（22_ENTRIES!=MAMMALS）时应用特定法术~ END
										31 BEGIN SPRINT effectdesc ~%effectdesc%~^~（31_ENTRIES=UNDEAD&MYCONID）时应用特定法术~ END
										32 BEGIN SPRINT effectdesc ~%effectdesc%~^~（32_ENTRIES!=UNDEAD&MYCONID）时应用特定法术~ END
										47 BEGIN SPRINT effectdesc ~%effectdesc%~^~（47_ENTRIES=UNBREATHING）时应用特定法术~ END
										48 BEGIN SPRINT effectdesc ~%effectdesc%~^~（48_ENTRIES!=UNBREATHING）时应用特定法术~ END
										53 BEGIN SPRINT effectdesc ~%effectdesc%~^~（53_STAT(RESISTFIRE)&(RESISTCOLD)>=100）时应用特定法术~ END
										54 BEGIN SPRINT effectdesc ~%effectdesc%~^~（54_STAT(RESISTFIRE)&(RESISTCOLD)<100）时应用特定法术~ END
										55 BEGIN SPRINT effectdesc ~%effectdesc%~^~（55_ENTRIES=UNDEAD&GOLEM）时应用特定法术~ END
										56 BEGIN SPRINT effectdesc ~%effectdesc%~^~（56_ENTRIES!=UNDEAD&GOLEM）时应用特定法术~ END					
										142 BEGIN SPRINT effectdesc ~%effectdesc%~^~（142_STATEBITS=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时应用特定法术~ END
										143 BEGIN SPRINT effectdesc ~%effectdesc%~^~（143_STATEBITS!=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时应用特定法术~ END
										DEFAULT SPRINT effectdesc ~%effectdesc%~^~（%splprotname%）时应用特定法术~
									END
								END
							END
						BUT_ONLY
					END
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~%effectdesc%~^~（%namestr%）~
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[法师]~ END
						PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT effectdesc ~%effectdesc%~^~[牧师]~ END
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 328 BEGIN
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					SET descfixed = 0
					PATCH_IF readspecial == 0 BEGIN
						PATCH_MATCH readtype
						WITH
							0 BEGIN SPRINT idsentry ~混乱命令~ SET descfixed = 1 END
							1 BEGIN SPRINT idsentry ~施法失败~ SET descfixed = 1 END
							2 BEGIN SPRINT idsentry ~痛苦~ SET descfixed = 1 END
							3 BEGIN SPRINT idsentry ~毒咒~ SET descfixed = 1 END
							4 BEGIN SPRINT idsentry ~血怒~ SET descfixed = 1 END
							5 BEGIN SPRINT idsentry ~猫之优雅~ SET descfixed = 1 END
							6 BEGIN SPRINT idsentry ~霉菌之触~ SET descfixed = 1 END
							7 BEGIN SPRINT idsentry ~火焰之袍~ SET descfixed = 1 END
							DEFAULT SET descfixed = 0
						END
					END
					PATCH_IF readspecial == 1 BEGIN LOOKUP_IDS_SYMBOL_OF_INT idsentry ~splstate~ readtype SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						SPRINT effectdesc ~{设置状态：%idsentry%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 329 BEGIN
					SPRINT effectdesc ~{减缓毒发~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 331 BEGIN
					SPRINT effectdesc ~{随机生物召唤~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 332 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{所有类型伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{火焰伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{寒冷伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 3) BEGIN SPRINT effectdesc ~{电击伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 4) BEGIN SPRINT effectdesc ~{强酸伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 5) BEGIN SPRINT effectdesc ~{魔法伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 6) BEGIN SPRINT effectdesc ~{毒素伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 7) BEGIN SPRINT effectdesc ~{挥砍伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 8) BEGIN SPRINT effectdesc ~{穿刺伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 9) BEGIN SPRINT effectdesc ~{钝击伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (readtype == 10) BEGIN SPRINT effectdesc ~{远程伤害修正：%readamount%％~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 333 BEGIN
					SPRINT effectdesc ~{静电荷（指定法术多次生效）~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 334 BEGIN
					SPRINT effectdesc ~{施展超度~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 337 BEGIN
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{移除效果条目：~
					INNER_ACTION BEGIN
						COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
							COUNT_2DA_ROWS 2 maxrows
							FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
								READ_2DA_ENTRY index 0 2 readopcode
								READ_2DA_ENTRY index 1 2 readopcodename
								PATCH_IF readopcode == readtype BEGIN
									SPRINT effectdesc ~%effectdesc%~^~%readopcodename%~
									SET index = maxrows + 1
								END
							END
							PATCH_IF index != (maxrows + 1) BEGIN
								SPRINT effectdesc ~%effectdesc%~^~未知效果~
							END
						BUT_ONLY
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 338 BEGIN
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{禁止休息~ SET descfixed = 1 END
					PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~{禁止存档~ SET descfixed = 1 END
					PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~{禁止休息和存档~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 340 BEGIN
					SPRINT effectdesc ~{背刺造成指定效果~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 341 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					READ_LONG 0x60 readpara3
					SET descfixed = 0
					PATCH_IF (readspecial == 0) BEGIN SPRINT effectdesc ~{致命一击造成指定效果~ SET descfixed = 1 END
					PATCH_IF (readspecial == 1) BEGIN SPRINT effectdesc ~{近战致命一击造成指定效果~ SET descfixed = 1 END
					PATCH_IF (readspecial == 2) BEGIN SPRINT effectdesc ~{远程致命一击造成指定效果~ SET descfixed = 1 END
					PATCH_IF (readspecial == 3) BEGIN SPRINT effectdesc ~{法术致命一击造成指定效果~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readpara3 > 0 BEGIN
							LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readpara3
							SPRINT effectdesc ~%effectdesc%~^~，限武器类型%idsentry%~
						END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 343 BEGIN
					SPRINT effectdesc ~{HP对调~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END
				
				PATCH_IF opcode == 344 BEGIN
					SPRINT effectdesc ~{对生物类型：~
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial	
					READ_LONG 0x60 readpara3
					READ_LONG 0x64 readpara4	
					PATCH_MATCH readtype
					WITH
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
						4 BEGIN SPRINT effectdesc ~%effectdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
						5 BEGIN SPRINT effectdesc ~%effectdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
						6 BEGIN SPRINT effectdesc ~%effectdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
						7 BEGIN SPRINT effectdesc ~%effectdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
						8 BEGIN SPRINT effectdesc ~%effectdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
						9 BEGIN SPRINT effectdesc ~%effectdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
					END
					PATCH_MATCH readpara3
					WITH
						0 BEGIN SPRINT effectdesc ~%effectdesc%~^~，当前武器~ END
						1 BEGIN SPRINT effectdesc ~%effectdesc%~^~，主手武器~ END
						2 BEGIN SPRINT effectdesc ~%effectdesc%~^~，副手武器~ END
						3 BEGIN SPRINT effectdesc ~%effectdesc%~^~，主副手武器~ END
						DEFAULT SPRINT effectdesc ~%effectdesc%~^~（类型出错）~
					END
					SPRINT effectdesc ~%effectdesc%~^~%idsentry%武器附魔等级视为%readspecial%~
					PATCH_IF readpara4 > 0 BEGIN
						LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readpara4
						SPRINT effectdesc ~%effectdesc%~^~，限武器类型%idsentry%~
					END
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 345 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					SET descfixed = 0
					PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~{武器附魔等级设为：＋%readamount%~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 346 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					SET descfixed = 0
					PATCH_IF (readspecial == 1) BEGIN SPRINT effectdesc ~{对防护系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 2) BEGIN SPRINT effectdesc ~{对咒法系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 3) BEGIN SPRINT effectdesc ~{对预言系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 4) BEGIN SPRINT effectdesc ~{对附魔系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 5) BEGIN SPRINT effectdesc ~{对幻术系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 6) BEGIN SPRINT effectdesc ~{对塑能系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 7) BEGIN SPRINT effectdesc ~{对死灵系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 8) BEGIN SPRINT effectdesc ~{对改变系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 9) BEGIN SPRINT effectdesc ~{对所有系~ SET descfixed = 1 END
					PATCH_IF (readspecial == 10) BEGIN SPRINT effectdesc ~{对狂乱系~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF (readtype == 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~的豁免修正：%readamount%~ END
						PATCH_IF (readtype == 1) BEGIN SPRINT effectdesc ~%effectdesc%~^~的豁免设为：%readamount%~ END
						PATCH_IF (readtype == 2) BEGIN SPRINT effectdesc ~%effectdesc%~^~的豁免设为现有的%readamount%％~ END
						SET descfixed = 2
					END
					PATCH_IF (descfixed = 2) BEGIN
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 361 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					READ_LONG 0x60 readpara3
					SET descfixed = 0
					PATCH_IF (readspecial == 0) BEGIN SPRINT effectdesc ~{致命失误造成指定效果~ SET descfixed = 1 END
					PATCH_IF (readspecial == 1) BEGIN SPRINT effectdesc ~{近战致命失误造成指定效果~ SET descfixed = 1 END
					PATCH_IF (readspecial == 2) BEGIN SPRINT effectdesc ~{远程致命失误造成指定效果~ SET descfixed = 1 END
					PATCH_IF (readspecial == 3) BEGIN SPRINT effectdesc ~{法术致命失误造成指定效果~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						PATCH_IF readpara3 > 0 BEGIN
							LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readpara3
							SPRINT effectdesc ~%effectdesc%~^~，限武器类型%idsentry%~
						END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 362 BEGIN
					READ_LONG 0x1c readamount
					READ_LONG 0x20 readtype
					READ_LONG 0x48 readspecial
					READ_LONG 0x60 readpara3
					SET descfixed = 0
					PATCH_IF (readspecial == 0) BEGIN SPRINT effectdesc ~{~ SET descfixed = 1 END
					PATCH_IF (readspecial == 1) BEGIN SPRINT effectdesc ~{近战攻击~ SET descfixed = 1 END
					PATCH_IF (readspecial == 2) BEGIN SPRINT effectdesc ~{远程攻击~ SET descfixed = 1 END
					PATCH_IF (readspecial == 3) BEGIN SPRINT effectdesc ~{魔法攻击~ SET descfixed = 1 END
					PATCH_IF (descfixed == 1) BEGIN
						SET critiacal = readamount * 5
						SPRINT effectdesc ~%effectdesc%~^~－致命失误率修正：%critiacal%％~
						PATCH_IF readpara3 > 0 BEGIN
							LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readpara3
							SPRINT effectdesc ~%effectdesc%~^~，限武器类型%idsentry%~
						END
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 363 BEGIN
					READ_LONG 0x48 readspecial
					LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MODAL~ readspecial
					SPRINT effectdesc ~{打破%idsentry%状态时终止本法术所有效果~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END

				PATCH_IF opcode == 366 BEGIN
					READ_ASCII 0x30 readres
					LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
					PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
						SPRINT effectdesc ~{移动时施展法术：%namestr%~
						READ_LONG 0x38 readdiceamonut
						PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
						READ_LONG 0x3c readdicesize
						PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
						LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
					END
				END

				PATCH_IF opcode == 367 BEGIN
					READ_LONG 0x20 readtype
					SPRINT effectdesc ~{生物属性不会低于%readtype%~
					READ_LONG 0x38 readdiceamonut
					PATCH_IF (readdiceamonut != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最高影响%readdiceamonut%级生物~ END
					READ_LONG 0x3c readdicesize
					PATCH_IF (readdicesize != 0) BEGIN SPRINT effectdesc ~%effectdesc%~^~，最低影响%readdicesize%级生物~ END
					LPF APPEND_ATTACH_DESC INT_VAR vopcode = viaopcode STR_VAR adesc = EVAL ~%effectdesc%~ RET effectdesc END
				END			
				
			BUT_ONLY
		END
	END
END










/* **************************************** */

//为法术/物品在使用时可能产生的具体效果添加目标、时间、豁免等描述

DEFINE_PATCH_FUNCTION APPEND_EFFECT_DESC
INT_VAR
	afirsteff = 0
	aeffectnum = 1
STR_VAR
	adesc = ~~
RET
	newdesc
BEGIN
	SPRINT newdesc ~%adesc%~
	READ_LONG 0x64 abilityoffset
	//PATCH_PRINT ~abilityoffset=%abilityoffset%~
	READ_LONG 0x6a effoffset
	//PATCH_PRINT ~effoffset=%effoffset%~
	READ_SHORT (effoffset + 0x30 * (afirsteff + aeffectnum - 1)) opcode
	//PATCH_PRINT ~opcode=%opcode%~
	
	READ_BYTE (2 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readtarget
	PATCH_IF (readtarget == 0) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：无~ END
	PATCH_IF (readtarget == 1) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：自身~ END
	PATCH_IF (readtarget == 2) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：指定对象~ END
	PATCH_IF (readtarget == 3) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：队伍成员~ END
	PATCH_IF (readtarget == 4) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：全图~ END
	PATCH_IF (readtarget == 5) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：除队伍外全图~ END
	PATCH_IF (readtarget == 6) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：施展者阵营~ END
	PATCH_IF (readtarget == 7) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：指定对象阵营~ END
	PATCH_IF (readtarget == 8) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：除自身外全图~ END
	PATCH_IF (readtarget == 9) BEGIN SPRINT newdesc ~%newdesc%~^~，目标：源施展者~ END
	READ_BYTE (12 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readtimemode
	READ_LONG (14 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readduration
	
	SET opcodemarch = 0	//瞬间生效类opcode，不需要显示持续时间
	PATCH_FOR_EACH instantopcode IN 2 4 11 12 13 14 17 23 26 32 43 46 47 48 55 58 64 68 70 72 75 77 79 81 82 104 105 112 116 123 124 125 134 136 146 147 148 150 151 160 161 162 163 164 168 171 172 188 209 211 212 214 220 221 224 229 230 238 242 243 244 252 256 257 258 260 261 264 266 270 273 274 279 304 311 316 321 326 334 337 343 BEGIN
		PATCH_IF opcode == instantopcode BEGIN SET opcodemarch = 1 END
	END
	
	PATCH_IF (opcodemarch == 0) BEGIN
		PATCH_IF (readtimemode == 0) BEGIN SPRINT newdesc ~%newdesc%~^~，持续：%readduration%秒~ END
		PATCH_IF (readtimemode == 1) BEGIN SPRINT newdesc ~%newdesc%~^~，一直持续~ END
		PATCH_IF (readtimemode == 3) BEGIN SPRINT newdesc ~%newdesc%~^~，延迟%readduration%秒并持续%readduration%秒~ END
		PATCH_IF (readtimemode == 4) BEGIN SPRINT newdesc ~%newdesc%~^~，延迟：%readduration%秒~ END
		PATCH_IF (readtimemode == 6) BEGIN SPRINT newdesc ~%newdesc%~^~，延迟%readduration%帧并持续%readduration%帧~ END
		PATCH_IF (readtimemode == 7) BEGIN SPRINT newdesc ~%newdesc%~^~，延迟：%readduration%帧~ END
		PATCH_IF (readtimemode == 9) BEGIN SPRINT newdesc ~%newdesc%~^~，永久~ END
		PATCH_IF (readtimemode == 10) BEGIN SPRINT newdesc ~%newdesc%~^~，持续：%readduration%帧~ END
	END ELSE BEGIN
		PATCH_IF (readtimemode == 3)||(readtimemode == 4)||(readtimemode == 6) BEGIN SPRINT newdesc ~%newdesc%~^~，延迟：%readduration%秒~ END
		PATCH_IF (readtimemode == 7) BEGIN SPRINT newdesc ~%newdesc%~^~，延迟：%readduration%帧~ END
	END
	READ_BYTE (13 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readdisres
	PATCH_IF ( opcode != 146 )&&( opcode != 148 ) BEGIN	//瞬间施法，不显示魔抗驱散
		PATCH_IF (readdisres == 0) BEGIN SPRINT newdesc ~%newdesc%~^~，无视魔抗和驱散~ END
		PATCH_IF (readdisres == 1) BEGIN SPRINT newdesc ~%newdesc%~^~，受魔抗和驱散影响~ END
		PATCH_IF (readdisres == 2) BEGIN SPRINT newdesc ~%newdesc%~^~，无视魔抗和驱散~ END
		PATCH_IF (readdisres == 3) BEGIN SPRINT newdesc ~%newdesc%~^~，无视魔抗但可驱散~ END
	END
	READ_BYTE (18 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readprob1
	READ_BYTE (19 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readprob2
	SET realprob = readprob1 - readprob2 + 1
	PATCH_IF (realprob < 100) BEGIN SPRINT newdesc ~%newdesc%~^~，生效概率%realprob%％~ END
	READ_BYTE (36 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readsavetype
	READ_LONG (40 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readsavebonus	
	PATCH_IF ( opcode != 146 )&&( opcode != 148 ) BEGIN	//瞬间施法，不显示豁免
		PATCH_IF (readsavetype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~，无视豁免~ END ELSE BEGIN
			PATCH_IF (readsavebonus > 0) BEGIN SPRINT newdesc ~%newdesc%~^~，以＋%readsavebonus%有利~ END
			PATCH_IF (readsavebonus == 0) BEGIN SPRINT newdesc ~%newdesc%~^~，~ END
			PATCH_IF (readsavebonus < 0) BEGIN SPRINT newdesc ~%newdesc%~^~，以%readsavebonus%不利~ END
			PATCH_IF (readsavetype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~对法术进行豁免检定~ END
			PATCH_IF (readsavetype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~对喷吐进行豁免检定~ END
			PATCH_IF (readsavetype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~对死亡进行豁免检定~ END
			PATCH_IF (readsavetype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~对法杖进行豁免检定~ END
			PATCH_IF (readsavetype == 16) BEGIN SPRINT newdesc ~%newdesc%~^~对变形进行豁免检定~ END
		END
	END
	READ_BYTE (39 + effoffset + 0x30 * (afirsteff + aeffectnum - 1)) readsaveflag
	PATCH_IF (readsaveflag & 0b00000001) = 0b00000001 BEGIN SPRINT newdesc ~%newdesc%~^~，无视镜影~ END
	PATCH_IF (readsaveflag & 0b00000010) = 0b00000010 BEGIN SPRINT newdesc ~%newdesc%~^~，无视难度~ END
END








/* **************************************** */

//给出法术/物品在使用时可能产生的具体效果

DEFINE_PATCH_FUNCTION CHECK_ATTACK_EFFECT
INT_VAR
	//pability = 1
	firsteff = 0 //输入当前ability下第一个eff的编号
	effectnum = 1	//从firsteff数起第几个eff
STR_VAR
	pdesc = ~~
RET
	newdesc
BEGIN
	SPRINT newdesc ~%pdesc%~
	READ_LONG 0x64 abilityoffset
	READ_LONG 0x6a effoffset
	READ_SHORT (effoffset + 0x30 * (firsteff + effectnum - 1)) opcode

//PATCH_PRINT ~firsteff=%firsteff% effectnum=%effectnum%~
//PATCH_PRINT ~abilityoffset=%abilityoffset% effoffset=%effoffset% opcode=%opcode%~	
//PATCH_PRINT ~CHECK_ATTACK_EFFECT_input: %pdesc%~

	PATCH_IF opcode == 0 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 16) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防御等级设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍防御修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺防御修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程防御修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击防御修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防御等级修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 1 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF readamount > 5 BEGIN
			SET readamount = (readamount * 2 - 11)
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数修正：%readamount%／2~ SET descfixed = 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数设为：%readamount%／2~ SET descfixed = 1 END
			PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数最终设为：%readamount%／2~ SET descfixed = 1 END
		END ELSE BEGIN
			PATCH_IF readamount < "-5" BEGIN
				SET readamount = (readamount * 2 + 11)
				PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数修正：-%readamount%／2~ SET descfixed = 1 END
			END ELSE BEGIN
				PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数修正：%readamount%~ SET descfixed = 1 END
				PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数设为：%readamount%~ SET descfixed = 1 END
				PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数设为当前的%readamount%％~ SET descfixed = 1 END
				PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数最终设为：%readamount%~ SET descfixed = 1 END
			END
		END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 2 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除昏迷~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 3 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－I型狂暴~ END
		ELSE BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－战斗中狂暴~ END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 4 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除I型狂暴~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 5 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readamount == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅惑生物类型：全部~ SET descfixed = 1 END
		PATCH_IF (readamount == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅惑生物类型：人类~ SET descfixed = 1 END
		PATCH_IF (readamount == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅惑生物类型：动物~ SET descfixed = 1 END
		PATCH_IF (readamount == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅惑生物类型：不死生物~ SET descfixed = 1 END
		PATCH_IF (readamount == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅惑生物类型：巨人~ SET descfixed = 1 END
		PATCH_IF (readamount == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅惑生物类型：植物~ SET descfixed = 1 END
		PATCH_IF (readamount == 255) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅惑生物类型：怪物~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 6 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅力修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅力设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅力设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 10 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－体质修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－体质设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－体质设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 11 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除中毒~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 12 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_SHORT (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype1
		READ_SHORT (10 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype2
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		READ_BYTE (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial1
		READ_BYTE (45 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial2
		SET descfixed = 0
		PATCH_IF (readtype2 == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 16) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 32) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－毒素伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 64) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 128) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 256) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 512) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法火焰伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 1024) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法寒冷伤害~ SET descfixed = 1 END
		PATCH_IF (readtype2 == 2048) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－瘀伤~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF (readtype1 == 0) BEGIN SPRINT newdesc ~%newdesc%~^~：~ SET descfixed = 2 END
			PATCH_IF (readtype1 == 1) BEGIN SPRINT newdesc ~%newdesc%~^~（HP设为）：~ SET descfixed = 2 END
			PATCH_IF (readtype1 == 2) BEGIN SPRINT newdesc ~%newdesc%~^~（HP设为百分比）：~ SET descfixed = 2 END
			PATCH_IF (readtype1 == 3) BEGIN SPRINT newdesc ~%newdesc%~^~（HP失去百分比）：~ SET descfixed = 2 END			
		END
		PATCH_IF (descfixed == 2) BEGIN
			PATCH_IF (readdiceamonut != 0) && (readdicesize != 0) BEGIN
				SPRINT newdesc ~%newdesc%~^~%readdiceamonut%D%readdicesize%~
				PATCH_IF readamount > 0 BEGIN SPRINT newdesc ~%newdesc%~^~＋%readamount%~ END
				PATCH_IF readamount < 0 BEGIN SPRINT newdesc ~%newdesc%~^~%readamount%~ END
			END
			PATCH_IF (readdiceamonut == 0)||(readdicesize == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%readamount%~ END
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			PATCH_IF (readspecial1 & 0b00000001) = 0b00000001 BEGIN SPRINT newdesc ~%newdesc%~^~，吸血~ END
			PATCH_IF (readspecial1 & 0b00000010) = 0b00000010 BEGIN SPRINT newdesc ~%newdesc%~^~，反向吸血~ END
			PATCH_IF (readspecial1 & 0b00000100) = 0b00000100 BEGIN SPRINT newdesc ~%newdesc%~^~，仅瘀伤~ END
			PATCH_IF (readspecial1 & 0b00001000) = 0b00001000 BEGIN SPRINT newdesc ~%newdesc%~^~，吸血（不累加）~ END
			PATCH_IF (readspecial1 & 0b00010000) = 0b00010000 BEGIN SPRINT newdesc ~%newdesc%~^~，反向吸血（不累加）~ END
			PATCH_IF (readspecial2 & 0b00000001) = 0b00000001 BEGIN SPRINT newdesc ~%newdesc%~^~，通过豁免伤害减半~ END
			PATCH_IF (readspecial1 & 0b00000010) = 0b00000010 BEGIN SPRINT newdesc ~%newdesc%~^~，未过豁免伤害减半~ END
			PATCH_IF (readspecial1 & 0b00000100) = 0b00000100 BEGIN SPRINT newdesc ~%newdesc%~^~，不会打醒睡眠生物~ END
		END
	END
	
	PATCH_IF opcode == 13 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－即死~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 14 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除冰冻~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 15 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－敏捷修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－敏捷设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－敏捷设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－猫之优雅~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF (opcode == 16)||(opcode == 317) BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－加速~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－高等加速~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－加速但不加攻击次数~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			PATCH_IF (opcode == 317) BEGIN SPRINT newdesc ~%newdesc%~^~，武僧可用~ END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 17 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－当前HP修正：~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－当前HP设为：~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－当前HP设为当前的百分比：~ SET descfixed = 1 END		
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF (readdiceamonut != 0) && (readdicesize != 0) BEGIN
				SPRINT newdesc ~%newdesc%~^~%readdiceamonut%D%readdicesize%~
				PATCH_IF readamount > 0 BEGIN SPRINT newdesc ~%newdesc%~^~＋%readamount%~ END
				PATCH_IF readamount < 0 BEGIN SPRINT newdesc ~%newdesc%~^~%readamount%~ END
			END
			PATCH_IF (readdiceamonut == 0)||(readdicesize == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%readamount%~ END
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END

	PATCH_IF opcode == 18 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP修正（当前HP随之变化）：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP随之变化）：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP随之变化）：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP修正（当前HP不变）：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP不变）：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP不变）：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP修正（当前HP随之变化）：%readamount%（不累加）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 19 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－智力修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－智力设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－智力设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 20 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－隐形~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－高等隐形~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－半隐形~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 21 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－学识修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－学识设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－学识设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 22 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－幸运（可累加）修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－幸运（可累加）设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－幸运（可累加）设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 23 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－非狂暴状态下，士气设为10~ SET descfixed = 1 END
		PATCH_IF (readspecial == 1) BEGIN 
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气修正：%readamount%~ SET descfixed = 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气设为：%readamount%~ SET descfixed = 1 END
			PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气设为现有的%readamount%％~ SET descfixed = 1 END
		END
		PATCH_IF (descfixed == 1) BEGIN
			//SPRINT newdesc ~%newdesc%~^~（生物具有“初始士气”“士气崩溃阈值”和“士气恢复间隔”三个数据。队友死亡-2士气[限玩家]，HP每次低于50%和25%时-2士气，每经过“士气恢复间隔”帧恢复1点士气）。当士气低于“士气崩溃阈值”时陷入恐惧或狂暴）~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 24 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－恐惧~ END
		ELSE BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－恐惧（无视免疫）~ END		
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 25 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－中毒（每秒1点毒素伤害）~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN
			PATCH_IF (readamount < 100) BEGIN
				SPRINT effectdesc ~{中毒（每秒1点毒素伤害）~ SET descfixed = 1
			END
			PATCH_IF (readamount > 99)&&(readamount < 256) BEGIN
				SPRINT effectdesc ~{中毒（生物HP>100／%readamount%时每秒1点毒素伤害）~ SET descfixed = 1
			END
		END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－中毒（每秒%readamount%点毒素伤害）~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－中毒（每%readamount%秒1点毒素伤害）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 26 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除诅咒~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 27 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 28 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 29 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 30 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 31 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 32 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－死者复生~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 33 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死亡的豁免修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死亡的豁免设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死亡的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 34 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法杖的豁免修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法杖的豁免设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法杖的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 35 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对变形的豁免修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对变形的豁免设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对变形的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 36 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对喷吐的豁免修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对喷吐的豁免设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对喷吐的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 37 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法术的豁免修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法术的豁免设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法术的豁免设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 38 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－沉默~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	PATCH_IF opcode == 39 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－昏迷~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	PATCH_IF opcode == 40 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－迟缓~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 42 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readamount == 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师1级法术记忆数量翻倍~ SET descfixed = 1 END
		PATCH_IF (readamount != 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师%readamount%级及以下法术记忆数量翻倍~ SET descfixed = 1 END
		PATCH_IF (readamount > 60000) BEGIN SET readamount = (65536 - readamount) END
		PATCH_IF (readtype & 0b0000000000000001) = 0b0000000000000001 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师1级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000000010) = 0b0000000000000010 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师2级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000000100) = 0b0000000000000100 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师3级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000001000) = 0b0000000000001000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师4级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000010000) = 0b0000000000010000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师5级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000100000) = 0b0000000000100000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师6级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000001000000) = 0b0000000001000000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师7级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000010000000) = 0b0000000010000000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师8级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000100000000) = 0b0000000100000000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师9级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 43 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除石化~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 44 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－公牛之力~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 45 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－震慑~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 46 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除震慑~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 47 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除隐形~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 48 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除沉默（发声术）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 49 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－感知修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－感知设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－感知设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 53 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ANIMATE~ readamount
		SET descfixed = 0
		PATCH_IF (readtype == 0)||(readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变动画为：%idsentry%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变动画为：源生物的原本动画~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 54 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－THAC0修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－THAC0设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 55 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－杀死生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 56 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－阵营反转~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 57 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－阵营变化：~
		PATCH_MATCH readtype
		WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~无~ END
			17 BEGIN SPRINT newdesc ~%newdesc%~^~守序善良~ END
			18 BEGIN SPRINT newdesc ~%newdesc%~^~守序中立~ END
			19 BEGIN SPRINT newdesc ~%newdesc%~^~守序邪恶~ END
			33 BEGIN SPRINT newdesc ~%newdesc%~^~中立善良~ END
			34 BEGIN SPRINT newdesc ~%newdesc%~^~绝对中立~ END
			35 BEGIN SPRINT newdesc ~%newdesc%~^~中立邪恶~ END
			49 BEGIN SPRINT newdesc ~%newdesc%~^~叛逆善良~ END
			50 BEGIN SPRINT newdesc ~%newdesc%~^~叛逆中立~ END
			51 BEGIN SPRINT newdesc ~%newdesc%~^~叛逆邪恶~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~错误阵营代码~
		END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 58 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－解除魔法（必然成功）~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－解除魔法（以人物等级施展）~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－解除魔法（以等级%readamount%施展）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 59 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－潜行数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－潜行数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－潜行数值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 60 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0)||(readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－奥术失败率修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1)||(readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－神术失败率修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2)||(readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－特殊能力失败率修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 62 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readamount == 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师1级法术记忆数量翻倍~ SET descfixed = 1 END
		PATCH_IF (readamount != 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师%readamount%级及以下法术记忆数量翻倍~ SET descfixed = 1 END
		PATCH_IF (readamount > 60000) BEGIN SET readamount = (65536 - readamount) END
		PATCH_IF (readtype & 0b0000000000000001) = 0b0000000000000001 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师1级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000000010) = 0b0000000000000010 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师2级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000000100) = 0b0000000000000100 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师3级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000001000) = 0b0000000000001000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师4级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000010000) = 0b0000000000010000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师5级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000000100000) = 0b0000000000100000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师6级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype & 0b0000000001000000) = 0b0000000001000000 BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师7级法术记忆数量修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 63 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－夜视~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 64 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除夜视~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 65 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－朦胧~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 67 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR crecode = EVAL ~%readres%~ RET namestr END
		SPRINT newdesc ~%newdesc%~^~%WNL%－召唤生物：%namestr%~
		PATCH_MATCH readtype
		WITH
			0 1 3 BEGIN SPRINT newdesc ~%newdesc%~^~（与目标敌友类型一致，无目标则敌对）~ END
			2 4 6 8 255 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型由生物本身决定）~ END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（与目标敌对）~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（未知的敌友类型）~
		END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
	END

	PATCH_IF opcode == 68 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－反召唤生物~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 70 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除无法侦测~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 71 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－变性~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 72 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－设置生物类型为：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_MATCH readtype
		WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			1 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 73 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－攻击伤害修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－攻击伤害设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－攻击伤害设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 74 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－目盲~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 75 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除目盲~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 76 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－弱智~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 77 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除弱智~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 78 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（每秒1点毒素伤害）~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN
			PATCH_IF (readamount < 100) BEGIN
				SPRINT effectdesc ~{疾病（每秒1点毒素伤害）~ SET descfixed = 1
			END
			PATCH_IF (readamount > 99)&&(readamount < 256) BEGIN
				SPRINT effectdesc ~{疾病（生物HP>100／%readamount%时每秒1点毒素伤害）~ SET descfixed = 1
			END
		END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（每秒%readamount%点毒素伤害）~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（每%readamount%秒1点毒素伤害）~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（力量减少%readamount%点）~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（敏捷减少%readamount%点）~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（体质减少%readamount%点）~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（智力减少%readamount%点）~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（感知减少%readamount%点）~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（魅力减少%readamount%点）~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（迟缓）~ SET descfixed = 1 END
		PATCH_IF (readtype == 11)||(readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（真菌感染）~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疾病（流感，迟缓且力量、敏捷、魅力均减少%readamount%点）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 79 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除疾病~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 80 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－耳聋~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 81 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除耳聋~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 83 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MISSILE~ (readtype + 1)
		SPRINT newdesc ~%newdesc%~^~%WNL%－防护投射：%idsentry%~
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~PROJECTL~ readtype
		SPRINT newdesc ~%newdesc%~^~（%idsentry%）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 84 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法火焰伤害抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法火焰伤害抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法火焰伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 85 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法寒冷伤害抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法寒冷伤害抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法寒冷伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 86 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 87 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 88 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 89 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害抗力设为当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 90 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－开锁数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－开锁数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－开锁数值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 91 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－找寻陷阱数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－找寻陷阱数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－找寻陷阱数值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 92 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－扒窃数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－扒窃数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－扒窃数值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 93 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疲劳数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疲劳数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疲劳数值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 94 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－醉酒数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－醉酒数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－醉酒数值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 96 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－等级修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－等级设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－等级设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 97 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量18时尾数修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量18时尾数设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量18时尾数设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 98 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒再生1HP~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN
			PATCH_IF (readamount < 100) BEGIN
				SPRINT effectdesc ~%effectdesc%~^~%WNL%－每秒再生1HP~ SET descfixed = 1
			END
			PATCH_IF (readamount > 99)&&(readamount < 256) BEGIN
				SPRINT effectdesc ~%effectdesc%~^~%WNL%－生物HP>100／%readamount%时每秒再生1HP~ SET descfixed = 1
			END
		END		
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒再生%readamount%HP~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每%readamount%秒再生1HP~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 99 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－奥术持续时间设为：%readamount％%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－神术持续时间设为：%readamount％%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－战歌持续时间设为：%readamount％%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 100 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－防护生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 101 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－防护效果条目：~
		INNER_ACTION BEGIN
			COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
				COUNT_2DA_ROWS 2 maxrows
				FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
					READ_2DA_ENTRY index 0 2 readopcode
					READ_2DA_ENTRY index 1 2 readopcodename
					PATCH_IF readopcode == readtype BEGIN
						SPRINT newdesc ~%newdesc%~^~%readopcodename%~
						SET index = maxrows + 1
					END
				END
				PATCH_IF index < maxrows BEGIN
					SPRINT newdesc ~%newdesc%~^~未知效果~
				END
			BUT_ONLY
		END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 102 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－免疫%readamount%级法术~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 104 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－经验值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－经验值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－经验值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 105 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－金币数修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－金币数设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－金币数设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 106 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气崩溃阈值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN
			PATCH_IF (readamount < 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防止士气崩溃~ SET descfixed = 1 END
			ELSE BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气崩溃阈值设为%readamount%~ SET descfixed = 1 END
		END		
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气崩溃阈值设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			//SPRINT newdesc ~%newdesc%~^~（生物具有“初始士气”“士气崩溃阈值”和“士气恢复间隔”三个数据。队友死亡-2士气[限玩家]，HP每次低于50%和25%时-2士气，每经过“士气恢复间隔”帧恢复1点士气）。当士气低于“士气崩溃阈值”时陷入恐惧或狂暴）~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 109 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－麻痹生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 111 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－产生魔法武器：%namestr%，数量%readamount%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 112 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－移除物品：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 114 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－可识别（生物在已探索但无视野的半迷雾区域可进行互动）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 115 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测邪恶（发红光）~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测中立（发蓝光）~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测善良（发绿光）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 116 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除隐形~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF (opcode == 119)||(opcode == 159) BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		PATCH_IF (opcode == 119) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－产生镜影~ END
		ELSE BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－产生%readamount%个镜影~ END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 120 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫附魔等级%readamount%的武器~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫魔法武器~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非魔法武器~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫银质武器~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非银质武器~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非银质或非魔法武器~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫寒铁武器~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非寒铁武器~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 122 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－创建物品栏物品：%namestr%，数量%readamount%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 123 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－移除物品栏物品：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 124 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－传送~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－将源传送到目标~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－传送回已记忆地点~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－交换源和目标~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 125 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－敲击开锁~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 126 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为：当前的%readamount%％（可累加）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 127 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－召唤指定生物~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END	
	
	PATCH_IF opcode == 128 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－困惑~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END	
	
	PATCH_IF opcode == 129 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_BYTE (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype	//重复读readamount，仅读第一个字节
		SET descfixed = 0
		PATCH_IF (readamount > 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－援助：命中、伤害、豁免+%readtype%有利，最大HP增加%readamount%D8~ SET descfixed = 1 END
		PATCH_IF (readamount < 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反向援助：命中、伤害、豁免%readtype%不利~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END	
	
	PATCH_IF opcode == 130 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－祝福（命中伤害获得%readamount%修正，士气+5）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 131 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－幸运值设置（正面祈祷，不累加）：%readamount%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 132 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－力量敏捷体质修正%readamount%点，不累加~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 133 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－幸运值设置（不累加）：%readamount%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 134 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－石化~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 135 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SET descfixed = 0
		PATCH_IF (STRING_LENGTH readres == 0) || (NOT FILE_EXISTS_IN_GAME ~%readres%.cre~) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－解除变形~ SET descfixed = 1
		END ELSE BEGIN
			LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR crecode = EVAL ~%readres%~ RET namestr END
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－变形为：%namestr%（数值和外形均改变）~ SET descfixed = 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－变形为：%namestr%（仅外形改变）~ SET descfixed = 1 END
		END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 136 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－强制可见~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 137 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－幸运值设置（负面祈祷，不累加）：%readamount%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 138 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－演示动作：~
		PATCH_MATCH readtype
		WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~攻击~ END
			1 BEGIN SPRINT newdesc ~%newdesc%~^~苏醒~ END
			2 BEGIN SPRINT newdesc ~%newdesc%~^~施法~ END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~召唤~ END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~受伤~ END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~死亡~ END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~超度~ END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~准备~ END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~射击~ END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~抽搐~ END
			10 BEGIN SPRINT newdesc ~%newdesc%~^~行走~ END
			11 BEGIN SPRINT newdesc ~%newdesc%~^~攻击（竖劈）~ END
			12 BEGIN SPRINT newdesc ~%newdesc%~^~攻击（横扫）~ END
			13 BEGIN SPRINT newdesc ~%newdesc%~^~攻击（直刺）~ END
			14 BEGIN SPRINT newdesc ~%newdesc%~^~显形~ END
			15 BEGIN SPRINT newdesc ~%newdesc%~^~隐藏~ END
			16 BEGIN SPRINT newdesc ~%newdesc%~^~昏睡~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~未知~
		END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 143 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~SLOTS~ readamount
		PATCH_IF (readamount == 15) BEGIN SPRINT idsentry ~SLOT_MISC0（QUICK0）~ END
		PATCH_IF (readamount == 16) BEGIN SPRINT idsentry ~SLOT_MISC1（QUICK1）~ END
		PATCH_IF (readamount == 17) BEGIN SPRINT idsentry ~SLOT_MISC2（QUICK2）~ END
		PATCH_IF (readamount == 34) BEGIN SPRINT idsentry ~SLOT_MISC19（Magical_Weapon）~ END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－在%idsentry%栏创建物品：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 144 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止潜行按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止盗贼能力按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止法术选择按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷法术I按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷法术II按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷法术III按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止超度按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止对话按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止使用物品能力按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷物品I按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止诗人演奏按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷物品II按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷物品III按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止施展特殊能力按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 14) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止寻找陷阱按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 15) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止物品栏按钮~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 145 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止法师施法~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止牧师施法~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止施展法术以外的技能~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止施展法术和类法术能力~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 146 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SET descfixed = 0
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			PATCH_IF (readamount == 0)&&(readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－以人物等级施法：%namestr%~ SET descfixed = 1 END
			PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－以等级%readamount%施法：%namestr%~ SET descfixed = 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－以人物等级瞬间施法：%namestr%~ SET descfixed = 1 END
			PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－以等级%readamount%瞬间施法：%namestr%~ SET descfixed = 1 END
		END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 147 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－学习法术：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END

	PATCH_IF opcode == 148 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SET descfixed = 0
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－以等级%readamount%向目的地施法：%namestr%~ SET descfixed = 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－瞬间向目的地施法：%namestr%~ SET descfixed = 1 END
		END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END
	
	PATCH_IF opcode == 150 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－显示陷阱~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 151 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除并替换生物~ SET descfixed = 1 END
		PATCH_IF (readtype == 1)||(readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－杀死并替换生物~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 153 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－圣域~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 154 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－纠缠~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	PATCH_IF opcode == 157 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－蛛网~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	PATCH_IF opcode == 158 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－油腻~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 160 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除圣域~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 161 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除恐惧~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 162 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除定身~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 163 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－自由行动（解除被设为较低值的移动速率修正I）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 164 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除醉酒~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 165 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－暂停目标~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 166 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法抗力修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法抗力设为：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 167 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程THAC0修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程THAC0设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 168 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－移除生物~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 171 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－获得能力或法术：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END

	PATCH_IF opcode == 172 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－失去能力或法术：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END

	PATCH_IF opcode == 173 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－毒素抗力修正：%readamount%％~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 175 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－I型定身生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 176 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率修正（无视自由行动）：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为（无视自由行动）：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为（无视自由行动）：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为（无视自由行动）：当前的%readamount%％（可累加）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 177 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－对指定生物类型应用特定效果~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%：~
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 178 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－对特定生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		SPRINT newdesc ~%newdesc%~^~命中修正：%readspecial%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 179 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－对特定生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		SPRINT newdesc ~%newdesc%~^~伤害修正：%readspecial%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 180 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－禁止使用物品：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 181 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readamount
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止装备物品类型：%idsentry%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止使用物品类型：%idsentry%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 184 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿墙（无法停留在不可通行区域）~ END
		ELSE BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿墙（允许停留在不可通行区域）~ END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 185 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－II型定身生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 188 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－空气滤净~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
	END

	PATCH_IF opcode == 189 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法速度修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法时间设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法时间设为不超过：%readamount%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 190 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－武器出手速度修正：%readamount%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 191 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－奥术施法等级修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－神术施法等级修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 193 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－在脚本中允许攻击隐形生物~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 197 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MISSILE~ (readtype + 1)
		SPRINT newdesc ~%newdesc%~^~%WNL%－反弹投射：%idsentry%~
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~PROJECTL~ readtype
		SPRINT newdesc ~%newdesc%~^~（%idsentry%）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 198 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－反弹效果条目：~
		INNER_ACTION BEGIN
			COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
				COUNT_2DA_ROWS 2 maxrows
				FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
					READ_2DA_ENTRY index 0 2 readopcode
					READ_2DA_ENTRY index 1 2 readopcodename
					PATCH_IF readopcode == readtype BEGIN
						SPRINT newdesc ~%newdesc%~^~%readopcodename%~
						SET index = maxrows + 1
					END
				END
				PATCH_IF index < maxrows BEGIN
					SPRINT newdesc ~%newdesc%~^~未知效果~
				END
			BUT_ONLY
		END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 199 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－反弹%readamount%级法术~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 200 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－反弹%readtype%级法术，共反弹%readamount%次~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 201 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－吸收%readtype%级法术，共吸收%readamount%次~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 202 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：防护系~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：咒法系~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：预言系~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：附魔系~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：幻术系~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：塑能系~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：死灵系~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：改变系~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：全部~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	PATCH_IF opcode == 203 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：法术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：特殊防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：幻术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：破魔~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：破幻~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：咒法~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：战斗防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：意外~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：战场~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：攻击伤害~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：失能~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：综合~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：非战斗~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
		
	PATCH_IF opcode == 204 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：防护系~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：咒法系~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：预言系~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：附魔系~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：幻术系~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：塑能系~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：死灵系~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：改变系~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：全部~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 205 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：法术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：特殊防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：幻术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：破魔~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：破幻~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：咒法~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：战斗防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：意外~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：战场~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：攻击伤害~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：失能~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：综合~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：非战斗~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 206 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SET descfixed = 0
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－防护法术：%namestr%~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
			SET descfixed = 1
		END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 207 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SET descfixed = 0
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－反弹法术：%namestr%~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
			SET descfixed = 1
		END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 208 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－最小HP限制：%readamount%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 209 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－杀死60HP以下生物~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 210 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－震慑90HP以下生物~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 211 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－禁锢~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 212 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－自由~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 213 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－迷宫~
		PATCH_IF (readamount == 0) BEGIN SPRINT newdesc ~%newdesc%~^~（对象智力决定持续时间）~ END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 214 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－选择法术列表~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 216 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－吸取%readamount%个等级~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 217 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－昏迷20HP以下生物~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 218 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－%readamount%层石肤~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) && (readamount == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－随机层数石肤~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) && (readamount != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－至少%readamount%层石肤~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END

	PATCH_IF opcode == 219 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－对特定生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		SPRINT newdesc ~%newdesc%~^~防御修正：%readspecial%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 220 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：防护系~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：咒法系~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：预言系~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：附魔系~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：幻术系~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：塑能系~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：死灵系~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：改变系~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除学派：全部~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	PATCH_IF opcode == 221 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：法术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：特殊防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：幻术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：破魔~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：破幻~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：咒法~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：战斗防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：意外~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：战场~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：攻击伤害~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：失能~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：综合~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除第二类型：非战斗~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 222 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－传送域（最大范围%readamount%呎）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 223 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：吸收系~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：咒法系~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：预言系~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：附魔系~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：幻术系~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：塑能系~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：死灵系~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：改变系~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收学派：全部~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，总共吸收%readamount%次~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 224 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除等级吸取~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 226 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：法术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：特殊防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：幻术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：破魔~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：破幻~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：咒法~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：战斗防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：意外~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：战场~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：攻击伤害~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：失能~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：综合~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吸收第二类型：非战斗~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，总共吸收%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 227 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：防护系~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：咒法系~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：预言系~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：附魔系~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：幻术系~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：塑能系~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：死灵系~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：改变系~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：全部~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，总共反弹%readamount%次~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	PATCH_IF opcode == 228 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：法术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：特殊防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：幻术防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：破魔~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：破幻~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：咒法~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：战斗防护~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：意外~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：战场~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：攻击伤害~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：失能~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：综合~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：非战斗~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，总共反弹%readamount%次~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 229 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个防护系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个咒法系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个预言系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个附魔系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个幻术系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个塑能系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个死灵系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个改变系法术的效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个任意学派法术的效果~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	PATCH_IF opcode == 230 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为法术防护的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为特殊防护的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为幻术防护的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为破魔的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为破幻的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为咒法的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为战斗防护的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为意外的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为战场的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为攻击伤害的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为失能的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为综合的法术效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移除一个第二类型为非战斗的法术效果~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF readamount > 0  BEGIN SPRINT newdesc ~%newdesc%~^~，最高法术等级%readamount%~ SET descfixed = 1 END			
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 231 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－时间停止~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 232 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－符合条件施法：~
		PATCH_MATCH readtype
		WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~被攻击命中~ END
			1 BEGIN SPRINT newdesc ~%newdesc%~^~发现敌人~ END
			2 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于50％~ END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于25％~ END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于10％~ END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~处于无助状态~ END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~中毒~ END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~遭受攻击~ END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~4呎内存在生物~ END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~10呎内存在生物~ END
			11 BEGIN SPRINT newdesc ~%newdesc%~^~受伤~ END
			12 BEGIN SPRINT newdesc ~%newdesc%~^~杀死生物~ END
			13 BEGIN SPRINT newdesc ~%newdesc%~^~处于时间段：~ END
			14 BEGIN SPRINT newdesc ~%newdesc%~^~%readspecial%呎内存在生物~ END
			15 BEGIN SPRINT newdesc ~%newdesc%~^~有生物处于~ END
			16 BEGIN SPRINT newdesc ~%newdesc%~^~自身死亡~ END
			17 BEGIN SPRINT newdesc ~%newdesc%~^~有生物死亡~ END
			18 BEGIN SPRINT newdesc ~%newdesc%~^~被超度~ END
			19 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于%readspecial%~ END
			20 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于%readspecial%％~ END
			21 BEGIN SPRINT newdesc ~%newdesc%~^~处于~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（条件出错）~
		END
		PATCH_IF (readtype == 13) BEGIN
			PATCH_MATCH readspecial
				WITH
				0 BEGIN SPRINT newdesc ~%newdesc%~^~白天~ END
				1 BEGIN SPRINT newdesc ~%newdesc%~^~黄昏~ END
				2 BEGIN SPRINT newdesc ~%newdesc%~^~夜晚~ END
				3 BEGIN SPRINT newdesc ~%newdesc%~^~早晨~ END
				DEFAULT SPRINT newdesc ~%newdesc%~^~（时间出错）~
			END
		END
		PATCH_IF readtype == 15 BEGIN
			LOOKUP_IDS_SYMBOL_OF_INT idsentry ~state~ readspecial
		END
		PATCH_IF readtype == 21 BEGIN
			LOOKUP_IDS_SYMBOL_OF_INT idsentry ~splstate~ readspecial
		END
		PATCH_MATCH readamount
			WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~时，对自身施法：~ END
			1 BEGIN SPRINT newdesc ~%newdesc%~^~时，对最后攻击者施法：~ END
			2 BEGIN SPRINT newdesc ~%newdesc%~^~时，对最近的敌人施法：~ END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~时，对最近的对象施法：~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（对象出错）~
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		SPRINT newdesc ~%newdesc%~^~%namestr%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 233 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_MATCH readamount
			WITH
			89 BEGIN SPRINT weapontype ~巨剑~ SET descfixed = 1 END
			90 BEGIN SPRINT weapontype ~长剑~ SET descfixed = 1 END
			91 BEGIN SPRINT weapontype ~短剑~ SET descfixed = 1 END
			92 BEGIN SPRINT weapontype ~斧~ SET descfixed = 1 END
			93 BEGIN SPRINT weapontype ~双手剑~ SET descfixed = 1 END
			94 BEGIN SPRINT weapontype ~武士刀~ SET descfixed = 1 END
			95 BEGIN SPRINT weapontype ~弯刀／肋差／忍者刀~ SET descfixed = 1 END
			96 BEGIN SPRINT weapontype ~匕首~ SET descfixed = 1 END
			97 BEGIN SPRINT weapontype ~战锤~ SET descfixed = 1 END
			98 BEGIN SPRINT weapontype ~矛~ SET descfixed = 1 END
			99 BEGIN SPRINT weapontype ~戟~ SET descfixed = 1 END
			100 BEGIN SPRINT weapontype ~链枷／星芒锤~ SET descfixed = 1 END
			101 BEGIN SPRINT weapontype ~钉头锤~ SET descfixed = 1 END
			102 BEGIN SPRINT weapontype ~手杖~ SET descfixed = 1 END
			103 BEGIN SPRINT weapontype ~十字弓~ SET descfixed = 1 END
			104 BEGIN SPRINT weapontype ~长弓~ SET descfixed = 1 END
			105 BEGIN SPRINT weapontype ~短弓~ SET descfixed = 1 END
			106 BEGIN SPRINT weapontype ~飞镖~ SET descfixed = 1 END
			107 BEGIN SPRINT weapontype ~投石索~ SET descfixed = 1 END
			111 BEGIN SPRINT weapontype ~双手武器~ SET descfixed = 1 END
			112 BEGIN SPRINT weapontype ~剑盾~ SET descfixed = 1 END
			113 BEGIN SPRINT weapontype ~单手武器~ SET descfixed = 1 END
			114 BEGIN SPRINT weapontype ~双武器~ SET descfixed = 1 END
			DEFAULT SET descfixed = 0
		END
		PATCH_IF (descfixed == 1) && (readamount >= 0) && (readamount < 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置%weapontype%熟练度为%readamount%~ END ELSE BEGIN SET descfixed = 0 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 234 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_BYTE (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype	//只读单字节
		READ_BYTE (9 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial	//读第二个字节
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－连锁意外术~ SET descfixed = 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－普通意外术~ SET descfixed = 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－序列器~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			SET readtype = (readtype > 3) ? 3 : readtype
			SPRINT newdesc ~%newdesc%~^~，最高可装填%readamount%级法术，数量为%readtype%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 235 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0)||(readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吹飞，速度%readamount%远离发生地~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吹飞，速度%readamount%远离使用者~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吹飞，速度%readamount%朝向发生地~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－吹飞，速度%readamount%朝向使用者~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END		

	PATCH_IF opcode == 236 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－复制~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－误导~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－投影~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－拟像~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 238 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解离生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 239 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－远视术~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 241 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readamount == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－控制生物类型：全部~ SET descfixed = 1 END
		PATCH_IF (readamount == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－控制生物类型：人类~ SET descfixed = 1 END
		PATCH_IF (readamount == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－控制生物类型：动物~ SET descfixed = 1 END
		PATCH_IF (readamount == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－控制生物类型：不死生物~ SET descfixed = 1 END
		PATCH_IF (readamount == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－控制生物类型：巨人~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 242 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除困惑~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 243 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－吸取%readamount%个物品使用次数~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 244 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－吸取%readamount%个法师法术~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 245 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－1％概率陷入狂暴~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 246 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－I型狂暴~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 247 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－II型狂暴~ END
		ELSE BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－战斗中II型狂暴~ END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 248 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置近战攻击触发特定效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置徒手攻击触发特定效果~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
			SPRINT newdesc ~%newdesc%~^~%effectdesc%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 249 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－设置远程攻击触发特定效果~
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 250 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－伤害掷骰修正：%readamount%~ END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 251 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－改变战歌效果为特定法术~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 252 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－设置特定陷阱~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 255 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－创建物品栏物品，存在持续时间﹡天数：%namestr%，数量%readamount%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END	
	
	PATCH_IF opcode == 257 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－存储%readtype%个法术成为序列，最高存储%readamount%级法术~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 259 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－吸收并恢复%readtype%级法术，共吸收%readamount%次~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 261 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－恢复一个最高%readamount%级的奥术~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－恢复一个最高%readamount%级的神术~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 262 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－视距范围修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－视距范围设为：%readamount%~ SET descfixed = 1 END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 263 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－背刺倍数修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－背刺倍数设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－背刺倍数设为现有的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 264 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－丢弃随机装备~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－丢弃快速武器栏装备~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 266 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－移除对指定法术的防护~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 268 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－和队员共享视野~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 269 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－震动窗口（力度%readamount%）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
	END

	PATCH_IF opcode == 270 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除暂停~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 272 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SET descfixed = 0
		PATCH_IF (readtype == 0)&&(readamount != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒一次，重复应用特定效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－应用特定效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒%readamount%次，重复应用特定效果~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每%readamount%秒一次，重复应用特定效果~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
			SPRINT newdesc ~%newdesc%~^~%effectdesc%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 273 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－空气滤净~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 274 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－传送到随机敌对目标~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 275 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－阴影躲藏数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－阴影躲藏数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－阴影躲藏数值设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 276 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测幻象数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测幻象数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测幻象数值设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 277 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置陷阱数值修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置陷阱数值设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置陷阱数值设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 278 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－命中修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－命中设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－命中设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 279 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的潜行按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的盗贼能力按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的法术选择按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的快捷法术I按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的快捷法术II按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的快捷法术III按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的超度按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的对话按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的使用物品能力按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的快捷物品I按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的诗人演奏按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的快捷物品II按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的快捷物品III按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的施展特殊能力按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 14) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的寻找陷阱按钮~ SET descfixed = 1 END
		PATCH_IF (readtype == 15) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－还原被禁止的物品栏按钮~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 280 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－下次施法带有狂乱波动~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法带有狂乱波动~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 281 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 283 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－对生物类型应用指定诅咒效果~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%：~
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 284 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战THAC0修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战THAC0设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 285 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战伤害修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战伤害设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战伤害设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 286 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 288 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手THAC0修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手THAC0设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手THAC0设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 289 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手伤害修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手伤害设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手伤害设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 292 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫背刺~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 295 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－防止永久死亡~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 297 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫超度~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 299 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰修正%readamount%（显示混乱护盾图标）~ SET descfixed = 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰修正%readamount%（显示高级混乱护盾图标）~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 301 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－~ SET descfixed = 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战攻击~ SET descfixed = 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程攻击~ SET descfixed = 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法攻击~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			SET critiacal = readamount * 5
			SPRINT newdesc ~%newdesc%~^~致命一击率修正：%critiacal%％~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 303 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每击背刺~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 304 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－群体复活队员~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 305 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－副手命中修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－副手命中设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－副手命中设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 306 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－主手命中修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－主手命中设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－主手命中设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 310 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫时间停止~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 311 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－随机许愿~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 316 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－魔法休息~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF (opcode == 318)||(opcode == 324) BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－满足特定情况~
		SET descfixed = 0
		INNER_ACTION BEGIN
			COPY_EXISTING ~splprot.2da~ ~override~
				COUNT_2DA_ROWS 4 maxrows
				PATCH_IF readtype < maxrows BEGIN
					READ_2DA_ENTRY readtype 0 4 splprotname
					PATCH_IF ( ~%splprotname%~ STRING_CONTAINS_REGEXP ~[<>=]n$~ ) == 0 BEGIN
						READ_2DA_ENTRY readtype 1 4 splprotstat
							PATCH_MATCH splprotstat
							WITH
								0x106 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~AREATYPE~ readamount SPRINT newdesc ~%newdesc%~^~（天气类型为%splproentry%~ END
								0x10a BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~EA~ readamount SPRINT newdesc ~%newdesc%~^~（敌友类型为%splproentry%~ END
								0x10b BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENERAL~ readamount SPRINT newdesc ~%newdesc%~^~（一般类型为%splproentry%~ END
								0x10c BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~RACE~ readamount SPRINT newdesc ~%newdesc%~^~（种族类型为%splproentry%~ END
								0x10d BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~CLASS~ readamount SPRINT newdesc ~%newdesc%~^~（职业类型为%splproentry%~ END
								0x10e BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPECIFIC~ readamount SPRINT newdesc ~%newdesc%~^~（特殊类型为%splproentry%~ END
								0x10f BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENDER~ readamount SPRINT newdesc ~%newdesc%~^~（性别类型为%splproentry%~ END
								0x110 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~ALIGN~ readamount SPRINT newdesc ~%newdesc%~^~（阵营类型为%splproentry%~ END
								0x111 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~STATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								0x112 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPLSTATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%，n=%readamount%~
							END
						SPRINT newdesc ~%newdesc%~^~）时防护特定法术／物品效果：~
					END ELSE BEGIN
						PATCH_MATCH readtype
						WITH
							21 BEGIN SPRINT newdesc ~%newdesc%~^~（21_ENTRIES=MAMMALS）时防护特定法术／物品效果：~ END
							22 BEGIN SPRINT newdesc ~%newdesc%~^~（22_ENTRIES!=MAMMALS）时防护特定法术／物品效果：~ END
							31 BEGIN SPRINT newdesc ~%newdesc%~^~（31_ENTRIES=UNDEAD&MYCONID）时防护特定法术／物品效果：~ END
							32 BEGIN SPRINT newdesc ~%newdesc%~^~（32_ENTRIES!=UNDEAD&MYCONID）时防护特定法术／物品效果：~ END
							47 BEGIN SPRINT newdesc ~%newdesc%~^~（47_ENTRIES=UNBREATHING）时防护特定法术／物品效果：~ END
							48 BEGIN SPRINT newdesc ~%newdesc%~^~（48_ENTRIES!=UNBREATHING）时防护特定法术／物品效果：~ END
							53 BEGIN SPRINT newdesc ~%newdesc%~^~（53_STAT(RESISTFIRE)&(RESISTCOLD)>=100）时防护特定法术／物品效果：~ END
							54 BEGIN SPRINT newdesc ~%newdesc%~^~（54_STAT(RESISTFIRE)&(RESISTCOLD)<100）时防护特定法术／物品效果：~ END
							55 BEGIN SPRINT newdesc ~%newdesc%~^~（55_ENTRIES=UNDEAD&GOLEM）时防护特定法术／物品效果：~ END
							56 BEGIN SPRINT newdesc ~%newdesc%~^~（56_ENTRIES!=UNDEAD&GOLEM）时防护特定法术／物品效果：~ END					
							142 BEGIN SPRINT newdesc ~%newdesc%~^~（142_STATEBITS=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时防护特定法术／物品效果：~ END
							143 BEGIN SPRINT newdesc ~%newdesc%~^~（143_STATEBITS!=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时防护特定法术／物品效果：~ END
							DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%）时防护特定法术／物品效果：~
						END
					END
				END
			BUT_ONLY
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~法术效果（%namestr%）~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
			SET descfixed = 1
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN SPRINT newdesc ~%newdesc%~^~物品效果（%namestr%）~ SET descfixed = 2 END
		PATCH_IF (descfixed > 0) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 320 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		SET descfixed = 0
		PATCH_IF (readamount == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变天气：晴~ SET descfixed = 1 END
		PATCH_IF (readamount == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变天气：雨~ SET descfixed = 1 END
		PATCH_IF (readamount == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变天气：雪~ SET descfixed = 1 END
		PATCH_IF (readamount == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变天气：雾~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END
	
	PATCH_IF opcode == 321 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－移除特定法术／物品等效果：~
		SET descfixed = 0
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~法术效果（%namestr%）~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
			SET descfixed = 1
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN SPRINT newdesc ~%newdesc%~^~物品效果（%namestr%）~ SET descfixed = 2 END
		PATCH_IF (descfixed > 0) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 323 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－超度等级修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－超度等级设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－超度等级设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 325 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有豁免修正：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有豁免设为：%readamount%~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有豁免设为：当前的%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END
	
	PATCH_IF opcode == 326 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－满足特定情况~
		INNER_ACTION BEGIN
			COPY_EXISTING ~splprot.2da~ ~override~
				COUNT_2DA_ROWS 4 maxrows
				PATCH_IF readtype < maxrows BEGIN
					READ_2DA_ENTRY readtype 0 4 splprotname
					PATCH_IF ( ~%splprotname%~ STRING_CONTAINS_REGEXP ~[<>=]n$~ ) == 0 BEGIN
						READ_2DA_ENTRY readtype 1 4 splprotstat
							PATCH_MATCH splprotstat
							WITH
								0x106 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~AREATYPE~ readamount SPRINT newdesc ~%newdesc%~^~（天气类型为%splproentry%~ END
								0x10a BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~EA~ readamount SPRINT newdesc ~%newdesc%~^~（敌友类型为%splproentry%~ END
								0x10b BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENERAL~ readamount SPRINT newdesc ~%newdesc%~^~（一般类型为%splproentry%~ END
								0x10c BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~RACE~ readamount SPRINT newdesc ~%newdesc%~^~（种族类型为%splproentry%~ END
								0x10d BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~CLASS~ readamount SPRINT newdesc ~%newdesc%~^~（职业类型为%splproentry%~ END
								0x10e BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPECIFIC~ readamount SPRINT newdesc ~%newdesc%~^~（特殊类型为%splproentry%~ END
								0x10f BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENDER~ readamount SPRINT newdesc ~%newdesc%~^~（性别类型为%splproentry%~ END
								0x110 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~ALIGN~ readamount SPRINT newdesc ~%newdesc%~^~（阵营类型为%splproentry%~ END
								0x111 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~STATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								0x112 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPLSTATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%，n=%readamount%~
							END
						SPRINT newdesc ~%newdesc%~^~）时应用特定法术~
					END ELSE BEGIN	
						PATCH_MATCH readtype
						WITH
							21 BEGIN SPRINT newdesc ~%newdesc%~^~（21_ENTRIES=MAMMALS）时应用特定法术~ END
							22 BEGIN SPRINT newdesc ~%newdesc%~^~（22_ENTRIES!=MAMMALS）时应用特定法术~ END
							31 BEGIN SPRINT newdesc ~%newdesc%~^~（31_ENTRIES=UNDEAD&MYCONID）时应用特定法术~ END
							32 BEGIN SPRINT newdesc ~%newdesc%~^~（32_ENTRIES!=UNDEAD&MYCONID）时应用特定法术~ END
							47 BEGIN SPRINT newdesc ~%newdesc%~^~（47_ENTRIES=UNBREATHING）时应用特定法术~ END
							48 BEGIN SPRINT newdesc ~%newdesc%~^~（48_ENTRIES!=UNBREATHING）时应用特定法术~ END
							53 BEGIN SPRINT newdesc ~%newdesc%~^~（53_STAT(RESISTFIRE)&(RESISTCOLD)>=100）时应用特定法术~ END
							54 BEGIN SPRINT newdesc ~%newdesc%~^~（54_STAT(RESISTFIRE)&(RESISTCOLD)<100）时应用特定法术~ END
							55 BEGIN SPRINT newdesc ~%newdesc%~^~（55_ENTRIES=UNDEAD&GOLEM）时应用特定法术~ END
							56 BEGIN SPRINT newdesc ~%newdesc%~^~（56_ENTRIES!=UNDEAD&GOLEM）时应用特定法术~ END					
							142 BEGIN SPRINT newdesc ~%newdesc%~^~（142_STATEBITS=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时应用特定法术~ END
							143 BEGIN SPRINT newdesc ~%newdesc%~^~（143_STATEBITS!=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时应用特定法术~ END
							DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%）时应用特定法术~
						END
					END
				END
			BUT_ONLY
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~（%namestr%）~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
		END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 328 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF readspecial == 0 BEGIN
			PATCH_MATCH readtype
			WITH
				0 BEGIN SPRINT idsentry ~混乱命令~ SET descfixed = 1 END
				1 BEGIN SPRINT idsentry ~施法失败~ SET descfixed = 1 END
				2 BEGIN SPRINT idsentry ~痛苦~ SET descfixed = 1 END
				3 BEGIN SPRINT idsentry ~毒咒~ SET descfixed = 1 END
				4 BEGIN SPRINT idsentry ~血怒~ SET descfixed = 1 END
				5 BEGIN SPRINT idsentry ~猫之优雅~ SET descfixed = 1 END
				6 BEGIN SPRINT idsentry ~霉菌之触~ SET descfixed = 1 END
				7 BEGIN SPRINT idsentry ~火焰之袍~ SET descfixed = 1 END
				DEFAULT SET descfixed = 0
			END
		END
		PATCH_IF readspecial == 1 BEGIN LOOKUP_IDS_SYMBOL_OF_INT idsentry ~splstate~ readtype SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－设置状态：%idsentry%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 329 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－减缓毒发~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 331 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－随机生物召唤~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 332 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有类型伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－毒素伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害修正：%readamount%％~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 333 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－静电荷（指定法术多次生效）~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 334 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－施展超度~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 337 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－移除效果条目：~
		INNER_ACTION BEGIN
			COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
				COUNT_2DA_ROWS 2 maxrows
				FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
					READ_2DA_ENTRY index 0 2 readopcode
					READ_2DA_ENTRY index 1 2 readopcodename
					PATCH_IF readopcode == readtype BEGIN
						SPRINT newdesc ~%newdesc%~^~%readopcodename%~
						SET index = maxrows + 1
					END
				END
				PATCH_IF index != (maxrows + 1) BEGIN
					SPRINT newdesc ~%newdesc%~^~未知效果~
				END
			BUT_ONLY
		END
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 338 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止休息~ SET descfixed = 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止存档~ SET descfixed = 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止休息和存档~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		END
	END

	PATCH_IF opcode == 340 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－背刺造成指定效果~
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 341 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－致命一击造成指定效果~ SET descfixed = 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战致命一击造成指定效果~ SET descfixed = 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程致命一击造成指定效果~ SET descfixed = 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法术致命一击造成指定效果~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
			SPRINT newdesc ~%newdesc%~^~%effectdesc%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 343 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－HP对调~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END
	
	PATCH_IF opcode == 344 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－对生物类型：~
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial		
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%武器附魔等级视为%readspecial%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 345 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SET descfixed = 0
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－武器附魔等级设为：＋%readamount%~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 346 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对防护系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对咒法系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对预言系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对附魔系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对幻术系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对塑能系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死灵系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对改变系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对所有系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对狂乱系~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~的豁免修正：%readamount%~ END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~的豁免设为：%readamount%~ END
			PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~的豁免设为现有的%readamount%％~ END
			SET descfixed = 2
		END
		PATCH_IF (descfixed = 2) BEGIN
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 361 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－致命失误造成指定效果~ SET descfixed = 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战致命失误造成指定效果~ SET descfixed = 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程致命失误造成指定效果~ SET descfixed = 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法术致命失误造成指定效果~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
			SPRINT newdesc ~%newdesc%~^~%effectdesc%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 362 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (firsteff + effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－~ SET descfixed = 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战攻击~ SET descfixed = 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程攻击~ SET descfixed = 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法攻击~ SET descfixed = 1 END
		PATCH_IF (descfixed == 1) BEGIN
			SET critiacal = readamount * 5
			SPRINT newdesc ~%newdesc%~^~－致命失误率修正：%critiacal%％~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 363 BEGIN
		READ_LONG (44 + effoffset + 0x30 * (firsteff + effectnum - 1)) readspecial
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MODAL~ readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－打破%idsentry%状态时终止本法术所有效果~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

	PATCH_IF opcode == 366 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (firsteff + effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－移动时施展法术：%namestr%~
			LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
			READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
			PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
			READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
			PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
		END
	END

	PATCH_IF opcode == 367 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (firsteff + effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－生物属性不会低于%readtype%~
		LPF APPEND_EFFECT_DESC INT_VAR afirsteff = firsteff aeffectnum = effectnum STR_VAR adesc = EVAL ~%newdesc%~ RET newdesc END
		READ_LONG (28 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdiceamonut
		PATCH_IF (readdiceamonut != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最高影响%readdiceamonut%级生物~ END
		READ_LONG (32 + effoffset + 0x30 * (firsteff + effectnum - 1)) readdicesize
		PATCH_IF (readdicesize != 0) BEGIN SPRINT newdesc ~%newdesc%~^~，最低影响%readdicesize%级生物~ END
	END

//PATCH_PRINT ~CHECK_ATTACK_EFFECT_output: %newdesc%~

END



/* **************************************** */

//为什么会有人做装备写错时间模式！

DEFINE_PATCH_FUNCTION EQUIP_TIME_MODE
INT_VAR
	topcode = 0
STR_VAR
	edesc = ~~
RET
	newdesc
BEGIN	
	
	READ_BYTE (12 + effoffset + 0x30 * (effectnum - 1)) readtimemode
	READ_LONG (14 + effoffset + 0x30 * (effectnum - 1)) readduration

	SET opcodemarch = 0	//瞬间生效类opcode，不需要显示持续时间
	PATCH_FOR_EACH instantopcode IN 2 4 11 12 13 14 17 23 26 32 43 46 47 48 55 58 64 68 70 72 75 77 79 81 82 104 105 112 116 123 124 125 134 136 146 147 148 150 151 160 161 162 163 164 168 171 172 188 209 211 212 214 220 221 224 229 230 238 242 243 244 252 256 257 258 260 261 264 266 270 273 274 279 304 311 316 321 326 334 337 343 BEGIN
		PATCH_IF topcode == instantopcode BEGIN SET opcodemarch = 1 END
	END
	PATCH_IF (opcodemarch == 0) BEGIN
		PATCH_IF (readtimemode == 0) BEGIN SPRINT edesc ~%edesc%~^~（持续%readduration%秒）~ END
		PATCH_IF (readtimemode == 1) BEGIN SPRINT edesc ~%edesc%~^~（一直持续）~ END
		PATCH_IF (readtimemode == 3) BEGIN SPRINT edesc ~%edesc%~^~（延迟%readduration%秒并持续%readduration%秒）~ END
		PATCH_IF (readtimemode == 4) BEGIN SPRINT edesc ~%edesc%~^~（延迟%readduration%秒）~ END
		PATCH_IF (readtimemode == 6) BEGIN SPRINT edesc ~%edesc%~^~（延迟%readduration%帧并持续%readduration%帧）~ END
		PATCH_IF (readtimemode == 7) BEGIN SPRINT edesc ~%edesc%~^~（延迟%readduration%帧）~ END
		PATCH_IF (readtimemode == 9) BEGIN SPRINT edesc ~%edesc%~^~（永久）~ END
		PATCH_IF (readtimemode == 10) BEGIN SPRINT edesc ~%edesc%~^~（持续%readduration%帧）~ END
	END ELSE BEGIN
		PATCH_IF (readtimemode == 3)||(readtimemode == 4)||(readtimemode == 6) BEGIN SPRINT edesc ~%edesc%~^~（延迟%readduration%秒）~ END
		PATCH_IF (readtimemode == 7) BEGIN SPRINT edesc ~%edesc%~^~（延迟%readduration%帧）~ END
	END
	SPRINT newdesc ~%edesc%~

END

/* **************************************** */

//主要是物品在装备时可能附加的具体效果

				
DEFINE_PATCH_FUNCTION CHECK_EQUIP_EFFECT
INT_VAR
	effectnum = 1
	pnum = 0
STR_VAR
	pdesc = ~~
RET
	newdesc
	addnum
BEGIN
	SET addnum = pnum
	SPRINT newdesc ~%pdesc%~
	READ_LONG 0x6a effoffset
	READ_SHORT (effoffset + 0x30 * (effectnum - 1)) opcode
	//PATCH_PRINT ~effoffset=%effoffset%~
	//PATCH_PRINT ~opcode=%opcode%~
	
	PATCH_IF opcode == 0 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 16) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防御等级设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍防御修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺防御修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程防御修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击防御修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防御等级修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 1 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF readamount > 5 BEGIN
			SET readamount = (readamount * 2 - 11)
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数修正：%readamount%／2~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数设为：%readamount%／2~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数最终设为：%readamount%／2~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		END ELSE BEGIN
			PATCH_IF readamount < "-5" BEGIN
				SET readamount = (readamount * 2 + 11)
				PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数修正：-%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			END ELSE BEGIN
				PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每轮攻击次数最终设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			END
		END
	END

	PATCH_IF opcode == 6 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅力修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅力设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魅力设为：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 10 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－体质修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－体质设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－体质设为：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 15 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－敏捷修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－敏捷设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－敏捷设为：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－猫之优雅~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF (opcode == 16) || (opcode == 317) BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－加速~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－高等加速~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－加速但不加攻击次数~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (opcode == 317) && (addnum - 1 == pnum) BEGIN SPRINT newdesc ~%newdesc%~^~，武僧可用~ END
	END

	PATCH_IF opcode == 18 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP修正（当前HP随之变化）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP随之变化）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP随之变化）：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP修正（当前HP不变）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP不变）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP设为（当前HP不变）：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－最大HP修正（当前HP随之变化）：%readamount%（不累加）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 19 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－智力修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－智力设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－智力设为：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 20 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－隐形~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－高等隐形~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－半隐形~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 21 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－学识修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－学识设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－学识设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 22 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－幸运（可累加）修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－幸运（可累加）设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－幸运（可累加）设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 27 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 28 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 29 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 30 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END	
	PATCH_IF opcode == 31 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 33 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死亡的豁免修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死亡的豁免设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死亡的豁免设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 34 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法杖的豁免修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法杖的豁免设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法杖的豁免设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 35 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对变形的豁免修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对变形的豁免设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对变形的豁免设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 36 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对喷吐的豁免修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对喷吐的豁免设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对喷吐的豁免设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 37 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法术的豁免修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法术的豁免设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对法术的豁免设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 42 BEGIN
		READ_SHORT (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readamount == 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师1级法术记忆数量翻倍~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readamount != 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师%readamount%级及以下法术记忆数量翻倍~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readamount > 60000) BEGIN SET readamount = (65536 - readamount) END
		PATCH_IF ((readtype & 0b0000000000000001) = 0b0000000000000001) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师1级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000000000010) = 0b0000000000000010) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师2级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000000000100) = 0b0000000000000100) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师3级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000000001000) = 0b0000000000001000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师4级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000000010000) = 0b0000000000010000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师5级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000000100000) = 0b0000000000100000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师6级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000001000000) = 0b0000000001000000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师7级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000010000000) = 0b0000000010000000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师8级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b0000000100000000) = 0b0000000100000000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法师9级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 44 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量设为：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－公牛之力~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 49 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－感知修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－感知设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－感知设为：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 53 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ANIMATE~ readamount
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变动画为：%idsentry%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变动画为：源生物的原本动画~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－改变动画为：%idsentry%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 54 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－THAC0修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－THAC0设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－THAC0设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 56 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－阵营反转~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 57 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－阵营转变：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~无~ END
			17 BEGIN SPRINT newdesc ~%newdesc%~^~守序善良~ END
			18 BEGIN SPRINT newdesc ~%newdesc%~^~守序中立~ END
			19 BEGIN SPRINT newdesc ~%newdesc%~^~守序邪恶~ END
			33 BEGIN SPRINT newdesc ~%newdesc%~^~中立善良~ END
			34 BEGIN SPRINT newdesc ~%newdesc%~^~绝对中立~ END
			35 BEGIN SPRINT newdesc ~%newdesc%~^~中立邪恶~ END
			49 BEGIN SPRINT newdesc ~%newdesc%~^~叛逆善良~ END
			50 BEGIN SPRINT newdesc ~%newdesc%~^~叛逆中立~ END
			51 BEGIN SPRINT newdesc ~%newdesc%~^~叛逆邪恶~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~错误阵营代码~
		END
	END

	PATCH_IF opcode == 59 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0 || readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－潜行数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1 || readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－潜行数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2 || readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－潜行数值设为：当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 60 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0 || readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－奥术失败率修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1 || readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－神术失败率修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2 || readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－特殊能力失败率修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 62 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readamount == 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师1级法术记忆数量翻倍~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readamount != 1) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师%readamount%级及以下法术记忆数量翻倍~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b00000001) = 0b00000001) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师1级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b00000010) = 0b00000010) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师2级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b00000100) = 0b00000100) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师3级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b00001000) = 0b00001000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师4级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b00010000) = 0b00010000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师5级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b00100000) = 0b00100000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师6级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF ((readtype & 0b01000000) = 0b01000000) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－牧师7级法术记忆数量修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 63 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－夜视~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 65 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－朦胧~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 69 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－无法侦测~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 71 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－变性~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 72 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－设置生物类型为：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			1 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END

	PATCH_IF opcode == 73 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－攻击伤害修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－攻击伤害设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－攻击伤害设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 78 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－生病~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END
	
	PATCH_IF opcode == 83 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MISSILE~ (readtype + 1)
		SPRINT newdesc ~%newdesc%~^~%WNL%－防护投射：%idsentry%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~PROJECTL~ readtype
		SPRINT newdesc ~%newdesc%~^~（%idsentry%）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END
	
	PATCH_IF opcode == 84 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法火焰抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法火焰抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法火焰抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 85 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法寒冷抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法寒冷抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法寒冷抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 86 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 87 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 88 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 89 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害抗力设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 90 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－开锁数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－开锁数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－开锁数值设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 91 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寻找陷阱数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寻找陷阱数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寻找陷阱数值设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 92 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－扒窃数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－扒窃数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－扒窃数值设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 93 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疲劳数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疲劳数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－疲劳数值设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 94 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－醉酒数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－醉酒数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－醉酒数值设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 97 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量18时尾数修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量18时尾数设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－力量18时尾数设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 98 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readamount != 0)&&(readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒再生1HP~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN
			PATCH_IF (readamount < 100) BEGIN
				SPRINT effectdesc ~%effectdesc%~^~%WNL%－每秒再生1HP~ SET addnum = pnum + 1
			END
			PATCH_IF (readamount > 99)&&(readamount < 256) BEGIN
				SPRINT effectdesc ~%effectdesc%~^~%WNL%－生物HP>100／%readamount%时每秒再生1HP~ SET addnum = pnum + 1
			END
		END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒再生%readamount%HP~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每%readamount%秒再生1HP~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 99 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－奥术持续时间设为%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－神术持续时间设为%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－战歌持续时间设为%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 100 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－防护生物类型：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END

	PATCH_IF opcode == 101 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－防护效果条目：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		INNER_ACTION BEGIN
			COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
				COUNT_2DA_ROWS 2 maxrows
				FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
					READ_2DA_ENTRY index 0 2 readopcode
					READ_2DA_ENTRY index 1 2 readopcodename
					PATCH_IF readopcode == readtype BEGIN
						SPRINT newdesc ~%newdesc%~^~%readopcodename%~
						SET index = maxrows + 1
					END
				END
				PATCH_IF index < maxrows BEGIN
					SPRINT newdesc ~%newdesc%~^~未知效果~
				END
			BUT_ONLY
		END
	END

	PATCH_IF opcode == 102 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－免疫法术等级：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 104 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－经验值设为现有的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 106 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气崩溃阈值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN
			PATCH_IF (readamount < 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防止士气崩溃~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			ELSE BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气崩溃阈值设为%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		END		
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－士气崩溃阈值设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF addnum == ( pnum + 1) BEGIN
		//SPRINT newdesc ~%newdesc%~^~（生物具有“初始士气”“士气崩溃阈值”和“士气恢复间隔”三个数据。队友死亡-2士气[限玩家]，HP每次低于50%和25%时-2士气，每经过“士气恢复间隔”帧恢复1点士气）。当士气低于“士气崩溃阈值”时陷入恐惧或狂暴）~
		END
	END

	PATCH_IF opcode == 114 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－可识别（生物在已探索但无视野的半迷雾区域可进行互动）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END
	
	PATCH_IF opcode == 116 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－解除隐形~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 120 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫附魔等级%readamount%的武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫魔法武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非魔法武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫银质武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非银质武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非银质或非魔法武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫寒铁武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫非寒铁武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 126 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为：%readamount%％（可累加）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 129 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_BYTE (4 + effoffset + 0x30 * (effectnum - 1)) readtype	//重复读readamount，仅读第一个字节
		PATCH_IF (readamount > 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－援助：命中、伤害、豁免+%readtype%有利，最大HP增加%readamount%D8~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readamount < 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反向援助：命中、伤害、豁免%readtype%不利~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 130 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－祝福（命中伤害获得%readamount%修正，士气+5）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 131 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－幸运值设置（正面祈祷，不累加）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 132 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－量敏捷体质修正%readamount%点，不累加~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END
	
	PATCH_IF opcode == 133 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－幸运值设置（不累加）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END
	
	PATCH_IF opcode == 135 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres		
		PATCH_IF (STRING_LENGTH readres == 0) || (NOT FILE_EXISTS_IN_GAME ~%readres%.cre~) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－解除变形~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		END ELSE BEGIN
			LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR crecode = EVAL ~%readres%~ RET namestr END
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－变形为%namestr%，获得抗力等数值~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－变形为%namestr%，仅外形改变~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		END
	END

	PATCH_IF opcode == 136 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－强制可见~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END
	
	PATCH_IF opcode == 137 BEGIN
		READ_BYTE (4 + effoffset + 0x30 * (effectnum - 1)) readamount	//仅读第一个字节
		SPRINT newdesc ~%newdesc%~^~%WNL%－幸运值设置（负面祈祷，不累加）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 144 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止潜行~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止盗贼能力~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止法术选择~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷法术I~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷法术II~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷法术III~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止超度~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止对话~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止使用物品能力~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷物品I~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止诗人演奏~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷物品II~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止快捷物品III~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止施展特殊能力~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 14) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止寻找陷阱~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 15) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止物品栏~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 145 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止法师施法~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止牧师施法~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止施展法术以外的技能~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止施展法术和类法术能力~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 163 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－自由行动（解除被设为较低值的移动速率修正I）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 166 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法抗力设为：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 167 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程THAC0修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程THAC0设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程THAC0设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 173 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－毒素抗力修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 176 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率修正（无视自由行动）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为（无视自由行动）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为（无视自由行动）：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－移动速率设为（无视自由行动）：%readamount%％（可累加）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 177 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－对指定生物类型应用特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%：~
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END

	PATCH_IF opcode == 178 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－对指定生物类型命中修正%readspecial%：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END

	PATCH_IF opcode == 179 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－对指定生物类型伤害修正%readspecial%：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END

	PATCH_IF opcode == 180 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		PATCH_IF (FILE_EXISTS_IN_GAME ~%readres%.itm~) BEGIN
			LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
			SPRINT newdesc ~%newdesc%~^~%WNL%－禁止使用物品：%namestr%~ addnum = pnum + 1
		END
	END

	PATCH_IF opcode == 181 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~ITEMCAT~ readamount
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止装备物品类型：%idsentry%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止使用物品类型：%idsentry%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 184 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿墙（无法停留在不可通行区域）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿墙（允许停留在不可通行区域）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 188 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法无需间隔~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 189 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法速度修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法时间设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法时间低于：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 190 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－武器出手速度修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 191 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－奥术施法等级修正（不累加）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－神术施法等级修正（不累加）：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 193 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype > 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－在脚本中允许攻击隐形生物~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 197 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~MISSILE~ (readtype + 1)
		SPRINT newdesc ~%newdesc%~^~%WNL%－反弹投射：%idsentry%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		LOOKUP_IDS_SYMBOL_OF_INT idsentry ~PROJECTL~ readtype
		SPRINT newdesc ~%newdesc%~^~（%idsentry%）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END
	
	PATCH_IF opcode == 198 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		SPRINT newdesc ~%newdesc%~^~%WNL%－反弹效果条目：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		INNER_ACTION BEGIN
			COPY ~DetailedDescription\2da\dopcodes.2da~ ~override~
				COUNT_2DA_ROWS 2 maxrows
				FOR ( index = 0 ; index < maxrows ; index = index + 1 ) BEGIN
					READ_2DA_ENTRY index 0 2 readopcode
					READ_2DA_ENTRY index 1 2 readopcodename
					PATCH_IF readopcode == readtype BEGIN
						SPRINT newdesc ~%newdesc%~^~%readopcodename%~
						SET index = maxrows + 1
					END
				END
				PATCH_IF index < maxrows BEGIN
					SPRINT newdesc ~%newdesc%~^~未知效果~
				END
			BUT_ONLY
		END
	END
	
	PATCH_IF opcode == 199 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－反弹法术等级：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 202 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：防护系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：咒法系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：预言系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：附魔系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：幻术系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：塑能系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：死灵系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：改变系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：全部~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹学派：狂乱魔法~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 203 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：法术防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：特殊防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：幻术防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：破魔~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：破幻~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：咒法~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：战斗防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：意外~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：战场~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：攻击伤害~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：失能~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：综合~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－反弹第二类型：非战斗~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 204 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：防护系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：咒法系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：预言系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：附魔系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：幻术系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：塑能系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：死灵系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：改变系~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：全部~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护学派：狂乱魔法~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 205 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：法术防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：特殊防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：幻术防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：破魔~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：破幻~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：咒法~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：战斗防护~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：意外~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：战场~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：攻击伤害~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 11) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：失能~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 12) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：综合~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 13) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－防护第二类型：非战斗~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 206 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－防护法术：%namestr%~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
		END
	END

	PATCH_IF opcode == 207 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~%WNL%－反弹法术：%namestr%~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
		END
	END

	PATCH_IF opcode == 208 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		SPRINT newdesc ~%newdesc%~^~%WNL%－最小HP限制：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 219 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－对指定生物类型防御修正%readspecial%：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END
	
	PATCH_IF opcode == 232 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－符合条件施法：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~被攻击命中~ END
			1 BEGIN SPRINT newdesc ~%newdesc%~^~发现敌人~ END
			2 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于50％~ END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于25％~ END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于10％~ END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~处于无助状态~ END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~中毒~ END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~遭受攻击~ END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~4呎内存在生物~ END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~10呎内存在生物~ END
			11 BEGIN SPRINT newdesc ~%newdesc%~^~受伤~ END
			12 BEGIN SPRINT newdesc ~%newdesc%~^~杀死生物~ END
			13 BEGIN SPRINT newdesc ~%newdesc%~^~处于时间段：~ END
			14 BEGIN SPRINT newdesc ~%newdesc%~^~%readspecial%呎内存在生物~ END
			15 BEGIN SPRINT newdesc ~%newdesc%~^~有生物处于~ END
			16 BEGIN SPRINT newdesc ~%newdesc%~^~自身死亡~ END
			17 BEGIN SPRINT newdesc ~%newdesc%~^~有生物死亡~ END
			18 BEGIN SPRINT newdesc ~%newdesc%~^~被超度~ END
			19 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于%readspecial%~ END
			20 BEGIN SPRINT newdesc ~%newdesc%~^~HP小于%readspecial%％~ END
			21 BEGIN SPRINT newdesc ~%newdesc%~^~处于~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（条件出错）~
		END
		PATCH_IF (readtype == 13) BEGIN
			PATCH_MATCH readspecial
				WITH
				0 BEGIN SPRINT newdesc ~%newdesc%~^~白天~ END
				1 BEGIN SPRINT newdesc ~%newdesc%~^~黄昏~ END
				2 BEGIN SPRINT newdesc ~%newdesc%~^~夜晚~ END
				3 BEGIN SPRINT newdesc ~%newdesc%~^~早晨~ END
				DEFAULT SPRINT newdesc ~%newdesc%~^~（时间出错）~
			END
		END
		PATCH_IF readtype == 15 BEGIN
			LOOKUP_IDS_SYMBOL_OF_INT idsentry ~state~ readspecial
		END
		PATCH_IF readtype == 21 BEGIN
			LOOKUP_IDS_SYMBOL_OF_INT idsentry ~splstate~ readspecial
		END
		PATCH_MATCH readamount
			WITH
			0 BEGIN SPRINT newdesc ~%newdesc%~^~时，对自身施法：~ END
			1 BEGIN SPRINT newdesc ~%newdesc%~^~时，对最后攻击者施法：~ END
			2 BEGIN SPRINT newdesc ~%newdesc%~^~时，对最近的敌人施法：~ END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~时，对最近的对象施法：~ END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（对象出错）~
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr = 0) BEGIN SPRINT namestr ~法术文件缺失~ END
		SPRINT newdesc ~%newdesc%~^~%namestr%~
	END
	
	PATCH_IF opcode == 233 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 89) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－巨剑熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 90) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－长剑熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 91) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－短剑熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 92) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－战斧熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 93) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－双手剑熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 94) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－武士刀熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 95) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－弯刀／腰刀／忍者刀熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 96) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－匕首熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 97) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－战锤熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 98) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－长矛熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 99) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－战戟熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 100) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－链枷／流星锤熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 101) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钉头锤熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 102) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－手杖熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 103) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－十字弓熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 104) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－长弓熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 105) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－短弓熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 106) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－飞镖锤熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 107) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－投石索熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 111) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－双手武器流派熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 112) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－剑盾流派熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 113) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－单手武器流派熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 114) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－双武器流派熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 115) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－棍棒熟练度设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 245 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－1％概率陷入狂暴~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 248 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置近战攻击触发特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置徒手攻击触发特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
	END	

	PATCH_IF opcode == 249 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－设置远程攻击触发特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
	END	
	
	PATCH_IF opcode == 250 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－攻击伤害掷骰修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 251 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－改变战歌效果为特定法术~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 262 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－视距范围修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－视距范围设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 263 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－背刺倍数修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－背刺倍数设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－背刺倍数设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 272 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		PATCH_IF (readtype == 0) && (readamount != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒一次，重复应用特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－应用特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每秒%readamount%次，重复应用特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每%readamount%秒一次，重复应用特定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
	END

	PATCH_IF opcode == 275 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－阴影躲藏数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－阴影躲藏数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－阴影躲藏数值设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 276 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测幻象数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测幻象数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－侦测幻象数值设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 277 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置陷阱数值修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置陷阱数值设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置陷阱数值设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 278 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－命中修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－命中设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－命中设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 280 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－下次施法带有狂乱波动~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－施法带有狂乱波动~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 281 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 283 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－对指定生物类型应用指定诅咒效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%：~
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END

	PATCH_IF opcode == 284 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战THAC0修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战THAC0设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战THAC0设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 285 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战伤害修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战伤害设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战伤害设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 286 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 288 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手命中修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手命中设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手命中设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 289 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手伤害修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手伤害设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－徒手伤害设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 292 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype!=0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫背刺~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 297 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype!=0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫超度不死生物~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	
	PATCH_IF opcode == 299 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰修正%readamount%（显示混乱护盾图标）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－狂乱魔法掷骰修正%readamount%（显示高级混乱护盾图标）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 301 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SET critiacal = readamount * 5
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		SPRINT newdesc ~%newdesc%~^~致命一击率修正：%critiacal%％~
	END

	PATCH_IF opcode == 302 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－万能巧手~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 303 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype != 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－每击背刺~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 305 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－副手命中修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－副手命中设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－副手命中设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END
	PATCH_IF opcode == 306 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－主手命中修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－主手命中设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－主手命中设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 310 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype!=0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－免疫时间停止~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF (opcode == 318)||(opcode == 324) BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		SET addnum = pnum + 1
		SPRINT newdesc ~%newdesc%~^~%WNL%－满足特定情况~
		INNER_ACTION BEGIN
			COPY_EXISTING ~splprot.2da~ ~override~
				COUNT_2DA_ROWS 4 maxrows
				PATCH_IF readtype < maxrows BEGIN
					READ_2DA_ENTRY readtype 0 4 splprotname
					PATCH_IF ( ~%splprotname%~ STRING_CONTAINS_REGEXP ~[<>=]n$~ ) == 0 BEGIN
						READ_2DA_ENTRY readtype 1 4 splprotstat
							PATCH_MATCH splprotstat
							WITH
								0x106 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~AREATYPE~ readamount SPRINT newdesc ~%newdesc%~^~（天气类型为%splproentry%~ END
								0x10a BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~EA~ readamount SPRINT newdesc ~%newdesc%~^~（敌友类型为%splproentry%~ END
								0x10b BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENERAL~ readamount SPRINT newdesc ~%newdesc%~^~（一般类型为%splproentry%~ END
								0x10c BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~RACE~ readamount SPRINT newdesc ~%newdesc%~^~（种族类型为%splproentry%~ END
								0x10d BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~CLASS~ readamount SPRINT newdesc ~%newdesc%~^~（职业类型为%splproentry%~ END
								0x10e BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPECIFIC~ readamount SPRINT newdesc ~%newdesc%~^~（特殊类型为%splproentry%~ END
								0x10f BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENDER~ readamount SPRINT newdesc ~%newdesc%~^~（性别类型为%splproentry%~ END
								0x110 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~ALIGN~ readamount SPRINT newdesc ~%newdesc%~^~（阵营类型为%splproentry%~ END
								0x111 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~STATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								0x112 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPLSTATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%，n=%readamount%~
							END
						SPRINT newdesc ~%newdesc%~^~）时防护特定法术／物品效果：~
					END ELSE BEGIN	
						PATCH_MATCH readtype
						WITH
							21 BEGIN SPRINT newdesc ~%newdesc%~^~（21_ENTRIES=MAMMALS）时防护特定法术／物品效果：~ END
							22 BEGIN SPRINT newdesc ~%newdesc%~^~（22_ENTRIES!=MAMMALS）时防护特定法术／物品效果：~ END
							31 BEGIN SPRINT newdesc ~%newdesc%~^~（31_ENTRIES=UNDEAD&MYCONID）时防护特定法术／物品效果：~ END
							32 BEGIN SPRINT newdesc ~%newdesc%~^~（32_ENTRIES!=UNDEAD&MYCONID）时防护特定法术／物品效果：~ END
							47 BEGIN SPRINT newdesc ~%newdesc%~^~（47_ENTRIES=UNBREATHING）时防护特定法术／物品效果：~ END
							48 BEGIN SPRINT newdesc ~%newdesc%~^~（48_ENTRIES!=UNBREATHING）时防护特定法术／物品效果：~ END
							53 BEGIN SPRINT newdesc ~%newdesc%~^~（53_STAT(RESISTFIRE)&(RESISTCOLD)>=100）时防护特定法术／物品效果：~ END
							54 BEGIN SPRINT newdesc ~%newdesc%~^~（54_STAT(RESISTFIRE)&(RESISTCOLD)<100）时防护特定法术／物品效果：~ END
							55 BEGIN SPRINT newdesc ~%newdesc%~^~（55_ENTRIES=UNDEAD&GOLEM）时防护特定法术／物品效果：~ END
							56 BEGIN SPRINT newdesc ~%newdesc%~^~（56_ENTRIES!=UNDEAD&GOLEM）时防护特定法术／物品效果：~ END					
							142 BEGIN SPRINT newdesc ~%newdesc%~^~（142_STATEBITS=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时防护特定法术／物品效果：~ END
							143 BEGIN SPRINT newdesc ~%newdesc%~^~（143_STATEBITS!=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时防护特定法术／物品效果：~ END
							DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%）时防护特定法术／物品效果：~
						END
					END
				END
			BUT_ONLY
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
			SPRINT newdesc ~%newdesc%~^~法术效果（%namestr%）~
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
			PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
			SET addnum = pnum + 1 
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr > 0) BEGIN SPRINT newdesc ~%newdesc%~^~物品效果（%namestr%）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END	
	
	PATCH_IF opcode == 319 BEGIN
		READ_BYTE (3 + effoffset + 0x30 * (effectnum - 1)) readpower
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		PATCH_IF (readpower == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－禁止生物类型使用本物品：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readpower == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－限定生物类型使用本物品：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			10 BEGIN
				PATCH_IF (readpower == "-1") BEGIN
					SPRINT idsentry ~主角~
				END ELSE BEGIN
					GET_STRREF readpower idsentry
					SPRINT idsentry ~生物名称为%idsentry%~ 
				END
			END
			11 BEGIN			
				PATCH_IF ((STRING_LENGTH ~%readres%~) == 0) BEGIN
					SPRINT idsentry ~主角~
				END ELSE BEGIN
					SPRINT idsentry ~生物代码为%readres%~ 
				END
			END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END

	PATCH_IF opcode == 321 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－移除特定法术／物品等效果：~
		PATCH_IF (FILE_EXISTS_IN_GAME ~%readres%.spl~)&&((readtype == 0)||(readtype == 2)) BEGIN
			LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
			PATCH_IF (STRING_LENGTH namestr > 0) BEGIN
				SPRINT newdesc ~%newdesc%~^~法术效果（%namestr%）~
				PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
				PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
				SET addnum = pnum + 1
			END
		END
		PATCH_IF (FILE_EXISTS_IN_GAME ~%readres%.itm~)&&((readtype == 0)||(readtype == 1)) BEGIN
			LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR itmcode = EVAL ~%readres%~ RET namestr END
			PATCH_IF (STRING_LENGTH namestr > 0) BEGIN SPRINT newdesc ~%newdesc%~^~物品效果（%namestr%）~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		END
	END	

	PATCH_IF opcode == 323 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－超度等级修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－超度等级设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－超度等级设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 325 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有豁免修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有豁免设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有豁免设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 326 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		SET addnum = pnum + 1
		SPRINT newdesc ~%newdesc%~^~%WNL%－满足特定情况~
		INNER_ACTION BEGIN
			COPY_EXISTING ~splprot.2da~ ~override~
				COUNT_2DA_ROWS 4 maxrows
				PATCH_IF readtype < maxrows BEGIN
					READ_2DA_ENTRY readtype 0 4 splprotname
					PATCH_IF ( ~%splprotname%~ STRING_CONTAINS_REGEXP ~[<>=]n$~ ) == 0 BEGIN
						READ_2DA_ENTRY readtype 1 4 splprotstat
							PATCH_MATCH splprotstat
							WITH
								0x106 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~AREATYPE~ readamount SPRINT newdesc ~%newdesc%~^~（天气类型为%splproentry%~ END
								0x10a BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~EA~ readamount SPRINT newdesc ~%newdesc%~^~（敌友类型为%splproentry%~ END
								0x10b BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENERAL~ readamount SPRINT newdesc ~%newdesc%~^~（一般类型为%splproentry%~ END
								0x10c BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~RACE~ readamount SPRINT newdesc ~%newdesc%~^~（种族类型为%splproentry%~ END
								0x10d BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~CLASS~ readamount SPRINT newdesc ~%newdesc%~^~（职业类型为%splproentry%~ END
								0x10e BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPECIFIC~ readamount SPRINT newdesc ~%newdesc%~^~（特殊类型为%splproentry%~ END
								0x10f BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~GENDER~ readamount SPRINT newdesc ~%newdesc%~^~（性别类型为%splproentry%~ END
								0x110 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~ALIGN~ readamount SPRINT newdesc ~%newdesc%~^~（阵营类型为%splproentry%~ END
								0x111 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~STATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								0x112 BEGIN LOOKUP_IDS_SYMBOL_OF_INT splproentry ~SPLSTATE~ readamount SPRINT newdesc ~%newdesc%~^~（状态为%splproentry%~ END
								DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%，n=%readamount%~
							END
						SPRINT newdesc ~%newdesc%~^~）时应用特定法术~
					END ELSE BEGIN	
						PATCH_MATCH readtype
						WITH
							21 BEGIN SPRINT newdesc ~%newdesc%~^~（21_ENTRIES=MAMMALS）时应用特定法术~ END
							22 BEGIN SPRINT newdesc ~%newdesc%~^~（22_ENTRIES!=MAMMALS）时应用特定法术~ END
							31 BEGIN SPRINT newdesc ~%newdesc%~^~（31_ENTRIES=UNDEAD&MYCONID）时应用特定法术~ END
							32 BEGIN SPRINT newdesc ~%newdesc%~^~（32_ENTRIES!=UNDEAD&MYCONID）时应用特定法术~ END
							47 BEGIN SPRINT newdesc ~%newdesc%~^~（47_ENTRIES=UNBREATHING）时应用特定法术~ END
							48 BEGIN SPRINT newdesc ~%newdesc%~^~（48_ENTRIES!=UNBREATHING）时应用特定法术~ END
							53 BEGIN SPRINT newdesc ~%newdesc%~^~（53_STAT(RESISTFIRE)&(RESISTCOLD)>=100）时应用特定法术~ END
							54 BEGIN SPRINT newdesc ~%newdesc%~^~（54_STAT(RESISTFIRE)&(RESISTCOLD)<100）时应用特定法术~ END
							55 BEGIN SPRINT newdesc ~%newdesc%~^~（55_ENTRIES=UNDEAD&GOLEM）时应用特定法术~ END
							56 BEGIN SPRINT newdesc ~%newdesc%~^~（56_ENTRIES!=UNDEAD&GOLEM）时应用特定法术~ END					
							142 BEGIN SPRINT newdesc ~%newdesc%~^~（142_STATEBITS=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时应用特定法术~ END
							143 BEGIN SPRINT newdesc ~%newdesc%~^~（143_STATEBITS!=STATE_INVISIBLE&STATE_IMPROVEDINVISIBILITY）时应用特定法术~ END
							DEFAULT SPRINT newdesc ~%newdesc%~^~（%splprotname%）时应用特定法术~
						END
					END
				END
			BUT_ONLY
		END
		LPF SCRAMBLED_TEXT_NAMECHECK STR_VAR splcode = EVAL ~%readres%~ RET namestr END
		PATCH_IF (STRING_LENGTH namestr == 0) BEGIN SPRINT namestr ~法术文件缺失~ END
		SPRINT newdesc ~%newdesc%~^~（%namestr%）~
		PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPWI~) BEGIN SPRINT newdesc ~%newdesc%~^~[法师]~ END
		PATCH_IF NOT (~%readres%~ STRING_CONTAINS_REGEXP ~SPPR~) BEGIN SPRINT newdesc ~%newdesc%~^~[牧师]~ END
	END

	PATCH_IF opcode == 328 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial		
		PATCH_IF (readspecial == 0) BEGIN
			PATCH_MATCH readtype
			WITH
				0 BEGIN SPRINT idsentry ~混乱命令~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				1 BEGIN SPRINT idsentry ~施法失败~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				2 BEGIN SPRINT idsentry ~痛苦~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				3 BEGIN SPRINT idsentry ~毒咒~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				4 BEGIN SPRINT idsentry ~血怒~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				5 BEGIN SPRINT idsentry ~猫之优雅~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				6 BEGIN SPRINT idsentry ~霉菌之触~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				7 BEGIN SPRINT idsentry ~火焰之袍~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
				DEFAULT SET addnum = pnum
			END
		END		
		PATCH_IF (readspecial == 1) BEGIN LOOKUP_IDS_SYMBOL_OF_INT idsentry ~splstate~ readtype LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF addnum == (pnum + 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－设置状态：%idsentry%~ END
	END

	PATCH_IF opcode == 329 BEGIN
		SPRINT newdesc ~%newdesc%~^~%WNL%－减缓毒发~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
	END

	PATCH_IF opcode == 332 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－所有类型伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－火焰伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－寒冷伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－电击伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－强酸伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－毒素伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－挥砍伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－穿刺伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－钝击伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readtype == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程伤害修正：%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

	PATCH_IF opcode == 340 BEGIN
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		SPRINT newdesc ~%newdesc%~^~%WNL%－背刺造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
	END

	PATCH_IF opcode == 341 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－致命一击造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战致命一击造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程致命一击造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法术致命一击造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
		PATCH_IF (addnum == (pnum + 1)) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~（所有持用武器）~ END
		PATCH_IF (addnum == (pnum + 1)) && (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~（限定此武器）~END
	END
	
	PATCH_IF opcode == 344 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SPRINT newdesc ~%newdesc%~^~%WNL%－对生物类型武器附魔等级视为%readspecial%：~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1
		PATCH_MATCH readtype
		WITH
			2 BEGIN SPRINT newdesc ~%newdesc%~^~（敌友类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~EA~ readamount END
			3 BEGIN SPRINT newdesc ~%newdesc%~^~（一般类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~General~ readamount END
			4 BEGIN SPRINT newdesc ~%newdesc%~^~（种族类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Race~ readamount END
			5 BEGIN SPRINT newdesc ~%newdesc%~^~（职业类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Class~ readamount END
			6 BEGIN SPRINT newdesc ~%newdesc%~^~（特殊类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Specific~ readamount END
			7 BEGIN SPRINT newdesc ~%newdesc%~^~（性别类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Gender~ readamount END
			8 BEGIN SPRINT newdesc ~%newdesc%~^~（阵营类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Align~ readamount END
			9 BEGIN SPRINT newdesc ~%newdesc%~^~（宗派类型）~ LOOKUP_IDS_SYMBOL_OF_INT idsentry ~Kit~ readamount END
			DEFAULT SPRINT newdesc ~%newdesc%~^~（类型出错）~ SPRINT idsentry ~未知类型~
		END
		SPRINT newdesc ~%newdesc%~^~%idsentry%~
	END
	
	PATCH_IF opcode == 345 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%当前武器附魔等级设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%主手武器（含弹药和拳头）附魔等级设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%副手武器附魔等级设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%主副手武器附魔等级设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF addnum == (pnum + 1) BEGIN
			PATCH_MATCH readtype
			WITH
				0 BEGIN SPRINT newdesc ~%newdesc%~^~（限附魔等级较低的魔法武器）~ END
				1 BEGIN SPRINT newdesc ~%newdesc%~^~（限魔法武器）~ END
				2 BEGIN SPRINT newdesc ~%newdesc%~^~（限非魔法武器）~ END
				3 BEGIN SPRINT newdesc ~%newdesc%~^~（限银质武器）~ END
				4 BEGIN SPRINT newdesc ~%newdesc%~^~（限非银质武器）~ END
				5 BEGIN SPRINT newdesc ~%newdesc%~^~（限非银质非魔法武器）~ END
				6 BEGIN SPRINT newdesc ~%newdesc%~^~（限双手武器）~ END
				7 BEGIN SPRINT newdesc ~%newdesc%~^~（限单手武器）~ END
				8 BEGIN SPRINT newdesc ~%newdesc%~^~（限诅咒武器）~ END
				9 BEGIN SPRINT newdesc ~%newdesc%~^~（限非诅咒武器）~ END
				10 BEGIN SPRINT newdesc ~%newdesc%~^~（限寒铁武器）~ END
				11 BEGIN SPRINT newdesc ~%newdesc%~^~（限非寒铁武器）~ END
				DEFAULT SPRINT newdesc ~%newdesc%~^~（武器限制类型出错）~
			END
		END
	END

	PATCH_IF opcode == 346 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SET descfixed = 0
		PATCH_IF (readspecial == 0) BEGIN SET readtype = 3 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对防护系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对咒法系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对预言系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 4) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对附魔系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 5) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对幻术系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 6) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对塑能系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 7) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对死灵系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 8) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对改变系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 9) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对所有系~ SET descfixed = 1 END
		PATCH_IF (readspecial == 10) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－对狂乱系~ SET descfixed = 1 END	
		PATCH_IF (descfixed == 1) BEGIN
			PATCH_IF (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~的豁免修正：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			PATCH_IF (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~的豁免设为：%readamount%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
			PATCH_IF (readtype == 2) BEGIN SPRINT newdesc ~%newdesc%~^~的豁免设为当前的%readamount%％~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		END
	END

	PATCH_IF opcode == 361 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_ASCII (20 + effoffset + 0x30 * (effectnum - 1)) readres
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－致命失误造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战致命失误造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程致命失误造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－法术致命失误造成指定效果~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		LPF CHECK_ATTACH_EFFECT INT_VAR viaopcode = opcode STR_VAR effectname = EVAL ~%readres%~ RET effectdesc END
		SPRINT newdesc ~%newdesc%~^~%effectdesc%~
		PATCH_IF (addnum == (pnum + 1)) && (readtype == 0) BEGIN SPRINT newdesc ~%newdesc%~^~（所有持用武器）~ END
		PATCH_IF (addnum == (pnum + 1)) && (readtype == 1) BEGIN SPRINT newdesc ~%newdesc%~^~（限定此武器）~ END
	END

	PATCH_IF opcode == 362 BEGIN
		READ_LONG (4 + effoffset + 0x30 * (effectnum - 1)) readamount
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		READ_LONG (44 + effoffset + 0x30 * (effectnum - 1)) readspecial
		SET critiacal = readamount * 5
		PATCH_IF (readspecial == 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 1) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－近战武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 2) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－远程武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		PATCH_IF (readspecial == 3) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－魔法武器~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
		SPRINT newdesc ~%newdesc%~^~致命失误率修正：%critiacal%％~
	END

	PATCH_IF opcode == 367 BEGIN
		READ_LONG (8 + effoffset + 0x30 * (effectnum - 1)) readtype
		PATCH_IF (readtype > 0) BEGIN SPRINT newdesc ~%newdesc%~^~%WNL%－生物属性不会低于%readtype%~ LPF EQUIP_TIME_MODE INT_VAR topcode = opcode STR_VAR edesc = EVAL ~%newdesc%~ RET newdesc END SET addnum = pnum + 1 END
	END

END

